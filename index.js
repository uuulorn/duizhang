/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "../scripts/subs/easyDB/index.js":
/*!***************************************!*\
  !*** ../scripts/subs/easyDB/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Store: () => (/* binding */ Store)\n/* harmony export */ });\nclass Store {\n    _dbname = '';\n    get fullName() {\n        return '$$easyDB - ' + this._dbname;\n    }\n    db = null;\n    openDB() {\n        if (this.db) {\n            return;\n        }\n        const q = indexedDB.open(this.fullName);\n        q.onupgradeneeded = () => {\n            if (!q.result.objectStoreNames.contains(this.fullName)) {\n                q.result.createObjectStore(this.fullName, { keyPath: 'id' }).transaction.oncomplete = () => {\n                    this.db = q.result;\n                };\n            }\n        };\n        q.onsuccess = () => {\n            this.db = q.result;\n        };\n    }\n    keys() {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readonly')\n                    .objectStore(this.fullName)\n                    .getAll();\n                q.onsuccess = () => {\n                    if (q.result) {\n                        const $result = q.result;\n                        resolve($result.map(x => x.id));\n                    }\n                    else {\n                        resolve([]);\n                    }\n                };\n                q.onerror = () => resolve([]);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    values() {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readonly')\n                    .objectStore(this.fullName)\n                    .getAll();\n                q.onsuccess = () => {\n                    if (q.result) {\n                        const $result = q.result;\n                        resolve($result.map(x => x.value));\n                    }\n                    else {\n                        resolve([]);\n                    }\n                };\n                q.onerror = () => resolve([]);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    entries() {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readonly')\n                    .objectStore(this.fullName)\n                    .getAll();\n                q.onsuccess = () => {\n                    if (q.result) {\n                        const $result = q.result;\n                        resolve($result.map(x => [x.id, x.value]));\n                    }\n                    else {\n                        resolve([]);\n                    }\n                };\n                q.onerror = () => resolve([]);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    getItem(id) {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readonly')\n                    .objectStore(this.fullName)\n                    .get(id);\n                q.onsuccess = () => {\n                    if (q.result) {\n                        resolve(q.result.value);\n                    }\n                    else {\n                        resolve(null);\n                    }\n                };\n                q.onerror = () => resolve(null);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    hasItem(id) {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readonly')\n                    .objectStore(this.fullName)\n                    .get(id);\n                q.onsuccess = () => {\n                    if (q.result) {\n                        resolve(true);\n                    }\n                    else {\n                        resolve(false);\n                    }\n                };\n                q.onerror = () => resolve(false);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    setItem(id, value) {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readwrite')\n                    .objectStore(this.fullName)\n                    .put({ id, value });\n                q.onsuccess = () => {\n                    resolve(true);\n                };\n                q.onerror = () => resolve(false);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    removeItem(id) {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readwrite')\n                    .objectStore(this.fullName)\n                    .delete(id);\n                q.onsuccess = () => {\n                    resolve(true);\n                };\n                q.onerror = () => resolve(false);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    clear() {\n        return new Promise(resolve => {\n            let timer = null;\n            timer = setInterval(() => {\n                if (!this.db) {\n                    return;\n                }\n                const q = this.db\n                    .transaction(this.fullName, 'readwrite')\n                    .objectStore(this.fullName)\n                    .clear();\n                q.onsuccess = () => {\n                    resolve(true);\n                };\n                q.onerror = () => resolve(false);\n                clearInterval(timer);\n            }, 0);\n        });\n    }\n    async fromEntries(ent) {\n        for (const [key, value] of ent) {\n            await this.setItem(key, value);\n        }\n    }\n    async fromEntriesSkipy(ent) {\n        for (const [key, value] of ent) {\n            if (await this.hasItem(key)) {\n                continue;\n            }\n            await this.setItem(key, value);\n        }\n    }\n    constructor(n) {\n        if (!n) {\n            throw new Error('创建Store失败:不能使用空字符!');\n        }\n        this._dbname = n;\n        this.openDB();\n    }\n}\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///../scripts/subs/easyDB/index.js?");

/***/ }),

/***/ "../scripts/subs/ubf-cmt/index.js":
/*!****************************************!*\
  !*** ../scripts/subs/ubf-cmt/index.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Input: () => (/* binding */ Input),\n/* harmony export */   NumInput: () => (/* binding */ NumInput),\n/* harmony export */   ask: () => (/* binding */ ask),\n/* harmony export */   askTextArea: () => (/* binding */ askTextArea),\n/* harmony export */   askWithTest: () => (/* binding */ askWithTest),\n/* harmony export */   boolMapInput: () => (/* binding */ boolMapInput),\n/* harmony export */   boolMapSelect: () => (/* binding */ boolMapSelect),\n/* harmony export */   boolObjectInput: () => (/* binding */ boolObjectInput),\n/* harmony export */   boolObjectSelect: () => (/* binding */ boolObjectSelect),\n/* harmony export */   dateObjectInput: () => (/* binding */ dateObjectInput),\n/* harmony export */   divBlock: () => (/* binding */ divBlock),\n/* harmony export */   fileLabel: () => (/* binding */ fileLabel),\n/* harmony export */   fixedNumberObjectInput: () => (/* binding */ fixedNumberObjectInput),\n/* harmony export */   intRange: () => (/* binding */ intRange),\n/* harmony export */   numberMapInput: () => (/* binding */ numberMapInput),\n/* harmony export */   numberMapSelect: () => (/* binding */ numberMapSelect),\n/* harmony export */   numberObjectInput: () => (/* binding */ numberObjectInput),\n/* harmony export */   numberObjectSelect: () => (/* binding */ numberObjectSelect),\n/* harmony export */   rangeObjectSelect: () => (/* binding */ rangeObjectSelect),\n/* harmony export */   revInput: () => (/* binding */ revInput),\n/* harmony export */   setInput: () => (/* binding */ setInput),\n/* harmony export */   stringArrayObjectTextarea: () => (/* binding */ stringArrayObjectTextarea),\n/* harmony export */   stringMapInput: () => (/* binding */ stringMapInput),\n/* harmony export */   stringMapSelect: () => (/* binding */ stringMapSelect),\n/* harmony export */   stringObjectInput: () => (/* binding */ stringObjectInput),\n/* harmony export */   stringObjectSelect: () => (/* binding */ stringObjectSelect),\n/* harmony export */   ui_topAndBottom: () => (/* binding */ ui_topAndBottom)\n/* harmony export */ });\n/* harmony import */ var _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ubf/index.js */ \"../scripts/subs/ubf/index.js\");\n\nfunction NumInput(o, k, options) {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input');\n    r.addEventListener('change', ({ flush, srcTarget }) => {\n        o[k] = +srcTarget.value;\n        flush();\n    });\n    if (options && options.view) {\n        r.setAny({\n            value: options.view(o[k])\n        });\n    }\n    else {\n        r.setAny({\n            value: o[k]\n        });\n    }\n    if (options && options.onchange) {\n        r.addEventListener('change', options.onchange);\n    }\n    return r;\n}\nfunction Input(o, k, options) {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input');\n    r.addEventListener('change', ({ flush, srcTarget }) => {\n        o[k] = srcTarget.value;\n        flush();\n    });\n    if (options && options.view) {\n        r.setAny({\n            value: options.view(o[k])\n        });\n    }\n    else {\n        r.setAny({\n            value: o[k]\n        });\n    }\n    if (options && options.onchange) {\n        r.addEventListener('change', options.onchange);\n    }\n    return r;\n}\nfunction numberObjectInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ value: o[k] }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = +srcTarget.value;\n        flush();\n    });\n}\nfunction stringObjectInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ value: o[k] }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = srcTarget.value;\n        flush();\n    });\n}\nfunction boolObjectInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ checked: o[k] }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = srcTarget.checked;\n        flush();\n    }).setAttributes({\n        type: 'checkbox'\n    });\n}\nfunction boolObjectSelect(o, k, [yes, no] = ['是', '否'], t = 'change') {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select');\n    r.setAny({ value: (o[k] || false) ? yes : no }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = srcTarget.value === yes;\n        flush();\n    }).addChildren([\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').addText(yes),\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').addText(no),\n    ]);\n    return r;\n}\nfunction dateObjectInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ valueAsDate: o[k] }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = srcTarget.valueAsDate;\n        flush();\n    }).setAttributes({\n        type: 'date'\n    });\n}\nfunction rangeObjectSelect(o, k, start, end, t = 'change') {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select').setValue(o[k]).addEventListener(t, ({ flush, srcTarget }) => {\n        o[k] = +srcTarget.value;\n        flush();\n    });\n    for (let i = start; i <= end; i++) {\n        r.addChild(new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').addText(i.toString()));\n    }\n    return r;\n}\nfunction numberMapInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ value: Number(o.get(k)) }).addEventListener(t, ({ srcTarget, flush }) => {\n        o.set(k, +srcTarget.value);\n        flush();\n    });\n}\nfunction stringMapInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ value: o.get(k) || '' }).addEventListener(t, ({ srcTarget, flush }) => {\n        o.set(k, srcTarget.value);\n        flush();\n    });\n}\nfunction boolMapInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ checked: o.get(k) || false }).addEventListener(t, ({ srcTarget, flush }) => {\n        o.set(k, srcTarget.checked);\n        flush();\n    }).setAttributes({\n        type: 'checkbox'\n    });\n}\nfunction setInput(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ checked: o.has(k) }).addEventListener(t, ({ srcTarget, flush }) => {\n        if (srcTarget.checked) {\n            o.add(k);\n        }\n        else {\n            o.delete(k);\n        }\n        flush();\n    }).setAttributes({\n        type: 'checkbox'\n    });\n}\nfunction stringMapSelect(o, k, options, t = 'change') {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select');\n    r.setAny({ value: o.get(k) || '' }).addEventListener(t, ({ srcTarget, flush }) => {\n        o.set(k, srcTarget.value);\n        flush();\n    });\n    for (const option of options) {\n        const u = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option');\n        r.addChild(u.addText(option));\n    }\n    return r;\n}\nfunction numberMapSelect(o, k, options, t = 'change') {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select');\n    r.setAny({ value: Number(o.get(k)).toString() }).addEventListener(t, ({ srcTarget, flush }) => {\n        o.set(k, +srcTarget.value);\n        flush();\n    });\n    for (const option of options) {\n        const u = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option');\n        r.addChild(u.addText(option + ''));\n    }\n    return r;\n}\nfunction boolMapSelect(o, k, [yes, no] = ['是', '否'], t = 'change') {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select');\n    r.setAny({ value: (o.get(k) || false) ? yes : no }).addEventListener(t, ({ srcTarget, flush }) => {\n        o.set(k, srcTarget.value === yes);\n        flush();\n    }).addChildren([\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').addText(yes),\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').addText(no),\n    ]);\n    return r;\n}\nfunction stringObjectSelect(o, k, texts, values, t = 'change') {\n    if (texts.length !== values.length) {\n        throw new Error('Error when generate string mapped SELECT:dismatched sizes of texts and options.');\n    }\n    if (texts.length === 0) {\n        throw new Error('Error when generate string mapped SELECT:the size of texts should not be 0.');\n    }\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select').setValue(o[k]).addEventListener(t, ({ flush, srcTarget }) => {\n        o[k] = srcTarget.value;\n        flush();\n    });\n    for (let i = 0, l = values.length; i < l; i++) {\n        r.addChild(new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').addText(texts[i]).setAttributes({ value: values[i] }));\n    }\n    return r;\n}\nfunction numberObjectSelect(o, k, texts, values, t = 'change') {\n    const r = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('select');\n    r.setAny({ value: Number(o[k]).toString() }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = +srcTarget.value;\n        flush();\n    });\n    let i = 0;\n    for (const value of values) {\n        const u = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('option').setAttributes({ value });\n        r.addChild(u.addText(texts[i]));\n        i++;\n    }\n    return r;\n}\nfunction fixedNumberObjectInput(o, k, d = 2, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ value: o[k].toFixed(d) }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = +srcTarget.value;\n        flush();\n    });\n}\nfunction stringArrayObjectTextarea(o, k, t = 'change') {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setAny({ value: o[k].join('\\n') }).addEventListener(t, ({ srcTarget, flush }) => {\n        o[k] = srcTarget.value.split('\\n');\n        flush();\n    });\n}\nfunction fileLabel(text, handler) {\n    const l = new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('label');\n    l.addChildren([\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('span').addText(text),\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').setStyle({\n            display: 'none'\n        }).on('change', v => {\n            handler(v.srcTarget.files, v);\n            v.srcTarget.value = '';\n        })\n    ]);\n    return l;\n}\nfunction divBlock({ z = 9999999, st = false, bgColor = 'black', opacity = 0.5, width = '3000px', height = '3000px' }) {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('div').setStyle({\n        display: st ? 'block' : 'none',\n        position: 'fixed',\n        zIndex: z,\n        top: 0,\n        left: 0,\n        width: typeof width === 'string' ? width : width + 'px',\n        height: typeof height === 'string' ? height : height + 'px',\n        background: bgColor,\n        opacity: opacity\n    });\n}\nfunction revInput(obj, k0, k1) {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('input').addEventListener('change', () => {\n        Reflect.get(obj, k1).apply(null);\n    }).setValue(obj[k0]);\n}\nfunction ui_topAndBottom() {\n    return new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('div').addChildren([\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('div').addText('↑').on('click', () => {\n            window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n        }).setStyle({\n            position: 'fixed',\n            top: 0,\n            right: 0,\n            fontSize: '30px',\n            width: '40px',\n            height: '40px',\n            background: 'green',\n            zIndex: '1000000',\n            opacity: 0.5,\n            fontWeight: '1000',\n            textAlign: 'center'\n        }),\n        new _ubf_index_js__WEBPACK_IMPORTED_MODULE_0__.vElement('div').addText('↓').on('click', () => {\n            window.scrollTo({ top: document.documentElement.scrollHeight, left: 0, behavior: 'smooth' });\n        }).setStyle({\n            position: 'fixed',\n            bottom: 0,\n            right: 0,\n            fontSize: '30px',\n            width: '40px',\n            height: '40px',\n            background: 'green',\n            zIndex: '1000000',\n            opacity: 0.7,\n            fontWeight: '1000',\n            textAlign: 'center'\n        })\n    ]);\n}\nfunction askWithTest(msg, quest, _default, testor) {\n    quest = quest ?? '无';\n    const r = prompt(`${msg}\\n要求:${quest}`, _default);\n    if (typeof r !== 'string' || (testor && !testor(r))) {\n        throw alert(`错误:无答案或答案不符合要求(${quest})`);\n    }\n    return r;\n}\nfunction ask(msg = '', $default = '') {\n    return prompt(msg, $default) ?? $default;\n}\nasync function askTextArea(msg, s = '') {\n    return new Promise((resolve, reject) => {\n        const foo = document.createElement('div');\n        foo.style.width = '100%';\n        foo.style.height = '100%';\n        foo.style.zIndex = '99999999998';\n        foo.style.position = 'fixed';\n        foo.style.top = '0';\n        foo.style.left = '0';\n        foo.style.background = 'rgba(0,0,0,0.5)';\n        const bar = document.createElement('textarea');\n        bar.style.zIndex = '99999999999';\n        bar.style.position = 'fixed';\n        bar.style.top = '20%';\n        bar.style.left = '20%';\n        bar.style.height = '60%';\n        bar.style.width = '60%';\n        bar.style.border = '5px solid black';\n        bar.style.resize = 'none';\n        bar.value = s;\n        bar.title = msg;\n        bar.placeholder = msg;\n        bar.className = 'ask_textarea';\n        bar.onclick = event => event.stopPropagation();\n        const control = document.createElement('div');\n        const b0 = document.createElement('button');\n        const b1 = document.createElement('button');\n        b0.textContent = '确定';\n        b1.textContent = '取消';\n        b0.style.display = 'block';\n        b0.style.margin = '0 auto';\n        b1.style.display = 'block';\n        b1.style.margin = '0 auto';\n        b0.onclick = () => {\n            resolve(bar.value);\n            foo.remove();\n        };\n        b1.onclick = () => {\n            reject();\n            foo.remove();\n        };\n        control.style.width = '60%';\n        control.style.display = 'grid';\n        control.style.gridTemplateColumns = '1fr 1fr';\n        control.style.position = 'fixed';\n        control.style.zIndex = '99999999999';\n        control.style.left = '20%';\n        control.style.top = '80%';\n        control.append(b0, b1);\n        foo.append(bar, control);\n        document.body.append(foo);\n        bar.focus();\n    });\n}\nfunction intRange(start, end, step = 1) {\n    const res = [];\n    for (let i = Math.floor(start); i < end; i += step) {\n        res.push(i);\n    }\n    return res;\n}\n/*少用keyof,性能问题严重(体感搭配引号使用时更严重)*/\n/*行数过多也会导致严重的性能问题*/\n/*type AttributesOf<T extends HTMLElement = HTMLElement> = {\n    [s in keyof T]?: string\n}*/\n/*export type TagNames = keyof HTMLElementTagNameMap*/\n/*type noReadOnly<T> = {\n    -readonly [K in keyof T]: T[K]\n}*/\n/*\nlet a:vElement<any>\ntypeof a.tag //string\n*/\n/*type SelectFromUnion<Union extends symbol | number | string, Unit> = Value<{\n    [K in Union]: K extends Unit ? K : never\n}>*/\n/*type Value<T> = T[keyof T]*/\n/*type Num<T extends Array<any>> = {\n    [k in number]: T[k]\n}*/\n/*type sa<T extends Array<any>> = {\n    [k in keyof T]: sb<T[k]>\n}\ntype sb<T> = T extends vElement<any, infer i> ? i : never*/\n//export type sf<T extends any[]> = (string | vElement<any, Value<Num<sa<T>>>> | vText)[];\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///../scripts/subs/ubf-cmt/index.js?");

/***/ }),

/***/ "../scripts/subs/ubf/index.js":
/*!************************************!*\
  !*** ../scripts/subs/ubf/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DelayFnManager: () => (/* binding */ DelayFnManager),\n/* harmony export */   Watcher: () => (/* binding */ Watcher),\n/* harmony export */   cachedFn: () => (/* binding */ cachedFn),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   f: () => (/* binding */ f),\n/* harmony export */   fAny: () => (/* binding */ fAny),\n/* harmony export */   nextDoor: () => (/* binding */ nextDoor),\n/* harmony export */   setLimitInterval: () => (/* binding */ setLimitInterval),\n/* harmony export */   setOverrideInterval: () => (/* binding */ setOverrideInterval),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   vElement: () => (/* binding */ vElement),\n/* harmony export */   vHTML: () => (/* binding */ vHTML),\n/* harmony export */   vText: () => (/* binding */ vText)\n/* harmony export */ });\nclass vElement {\n    stopDiffChild = false;\n    stopRendChild = false;\n    tag;\n    attributes = Object.create(null);\n    properties = Object.create(null);\n    $on = Object.create(null);\n    style = Object.create(null);\n    children = [];\n    $ref = null;\n    watcher = void 0;\n    constructor(tag) {\n        this.tag = tag;\n    }\n    key = '';\n    getKey() {\n        return this.key;\n    }\n    setKey(v) {\n        this.key = v;\n        return this;\n    }\n    setStopDiffChild(v) {\n        this.stopDiffChild = v;\n        return this;\n    }\n    setStopRendChild(v) {\n        this.stopRendChild = v;\n        return this;\n    }\n    on(type, handler) {\n        if (!this.$on[type]) {\n            this.$on[type] = [];\n        }\n        this.$on[type].push(handler);\n        return this;\n    }\n    ons(types, handler) {\n        for (const t of types) {\n            this.on(t, handler);\n        }\n        return this;\n    }\n    _emit(ev, info) {\n        const m = this.$on[ev];\n        if (m && m.length) {\n            for (let i = 0, l = m.length; i < l; i++) {\n                const f = m[i];\n                void nextDoor(() => f(info));\n            }\n        }\n    }\n    emit(ev, info) {\n        return nextDoor(() => this._emit(ev, info));\n    }\n    addEventListener(type, handler) {\n        this.on(type, handler);\n        return this;\n    }\n    addClass(c) {\n        const oc = (this.attributes.class || '') + ' ' + c;\n        const s = new Set(oc.split(/\\s/).filter(x => !!x));\n        this.setAttributes({ class: [...s].join(' ') });\n        return this;\n    }\n    /**\n     * 添加子元素\n     * @param children 子元素数组\n     * @returns\n     */\n    addChildren(children) {\n        for (const child of children) {\n            this.addChild(child);\n        }\n        return this;\n    }\n    /**\n     * 添加子元素\n     * @param child 子元素\n     * @returns\n     */\n    addChild(child) {\n        if (typeof child === 'string') {\n            child = new vText(child);\n        }\n        if (!child) {\n            return this;\n        }\n        this.children.push(child);\n        return this;\n    }\n    /**\n     * 添加文本子元素\n     * @param s 文本\n     * @returns\n     */\n    addText(s) {\n        this.addChildren([s]);\n        return this;\n    }\n    /**\n     * 为生成的DOM节点赋予任意属性,同setProperties\n     * @param t 属性键值对\n     * @returns\n     */\n    setAny(t) {\n        const { properties } = this;\n        for (const [key, value] of Object.entries(t)) {\n            properties[key] = value;\n        }\n        return this;\n    }\n    /**\n     * 为生成的DOM节点赋予任意属性\n     * @param t 属性键值对\n     * @returns\n     */\n    setProperties(t) {\n        const { properties } = this;\n        for (const [key, value] of Object.entries(t)) {\n            properties[key] = value;\n        }\n        return this;\n    }\n    /**\n     * 为生成的DOM节点赋予css样式\n     * @param t css样式键值对\n     * @returns\n     */\n    setStyle(t) {\n        const { style } = this;\n        for (const [key, value] of Object.entries(t)) {\n            style[key] = value;\n        }\n        return this;\n    }\n    /**\n     * 为dom节点赋予\"value\"键的值,常用于input,textarea,select等元素\n     * @param v \"value\"键的值\n     * @returns\n     */\n    setValue(v) {\n        this.properties.value = v;\n        return this;\n    }\n    setAttributes(t) {\n        const { attributes } = this;\n        for (const [key, value] of Object.entries(t)) {\n            attributes[key] = value;\n        }\n        return this;\n    }\n    setId(id) {\n        this.setAttributes({ id });\n        return this;\n    }\n    removeStyle(key) {\n        this.style[key] = null;\n        return this;\n    }\n    removeAttribute(key) {\n        this.attributes[key] = null;\n        return this;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    afterRendOrDiff(type) { }\n}\nclass vText {\n    data = '';\n    watcher = void 0;\n    $ref = null;\n    constructor(data) {\n        this.data = data;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    afterRendOrDiff() { }\n}\nfunction isNul(item) {\n    return (item === null) || (item === void 0);\n}\nclass Watcher {\n    get $ref() {\n        return new Promise(resolve => {\n            const t = setInterval(() => {\n                const r = this.vdomTree?.$ref;\n                if (r) {\n                    resolve(r);\n                    clearInterval(t);\n                }\n            }, this.flushInterval);\n        });\n    }\n    root;\n    data;\n    listened = [];\n    target = null;\n    _flushInterval = 100;\n    get flushInterval() {\n        return this._flushInterval;\n    }\n    set flushInterval(value) {\n        this._flushInterval = value;\n        this.flush = this.genFlushFunc();\n    }\n    model;\n    flushAfterEvent = false;\n    $on = Object.create(null);\n    $once = Object.create(null);\n    vdomTree = null;\n    noAfterFlush(handler) {\n        this.no('afterFlush', handler);\n    }\n    afterFlush(handler, once = false) {\n        once ? this.once(\"afterFlush\", handler) : this.on(\"afterFlush\", handler);\n    }\n    no(ev, handler) {\n        if (!this.$on[ev]) {\n            return;\n        }\n        for (let m = this.$on[ev], i = m.length - 1; i >= 0; i--) {\n            if (handler === m[i]) {\n                m.splice(i, 1);\n            }\n        }\n    }\n    on(ev, handler) {\n        if (!this.$on[ev]) {\n            this.$on[ev] = [];\n        }\n        this.$on[ev].push(handler);\n    }\n    once(ev, handler) {\n        if (!this.$once[ev]) {\n            this.$once[ev] = [];\n        }\n        this.$once[ev].push(handler);\n    }\n    delayFnPool = new DelayFnManager;\n    _emit(ev) {\n        {\n            const m = this.$on[ev];\n            if (m && m.length) {\n                for (let i = 0, l = m.length; i < l; i++) {\n                    const f = m[i];\n                    //防止错误地递归触发事件,不能await\n                    void nextDoor(() => f({\n                        model: this.model,\n                        eventName: ev,\n                        watcher: this\n                    }));\n                }\n            }\n        }\n        {\n            const m = this.$once[ev];\n            if (m && m.length) {\n                for (let i = 0, l = m.length; i < l; i++) {\n                    const f = m[i];\n                    //防止错误地递归触发事件,不能await\n                    void nextDoor(() => f({\n                        model: this.model,\n                        eventName: ev,\n                        watcher: this\n                    }));\n                }\n                m.length = 0;\n            }\n        }\n    }\n    emit(ev) {\n        void nextDoor(() => this._emit(ev));\n    }\n    //当vdom和dom的映射被破坏后使用\n    queryNewVdomTree(newTarget) {\n        this.target = newTarget;\n        this.vdomTree = null;\n        this.flush();\n    }\n    genFlushFunc() {\n        return throttle(this._flush.bind(this), this.flushInterval);\n    }\n    flush = this.genFlushFunc();\n    _flush() {\n        requestAnimationFrame(async () => {\n            if (!this.vdomTree) {\n                //第一次刷新时,只做简单替换\n                let newTarget;\n                this.vdomTree = await this.root(this.data);\n                this.vdomTree.watcher = this;\n                try {\n                    newTarget = await rend(this.vdomTree, this);\n                }\n                catch (e) {\n                    console.error(e);\n                    newTarget = document.createTextNode('渲染时发生错误');\n                }\n                if (this.target) {\n                    this.target.replaceWith(newTarget);\n                    this.target = null;\n                }\n            }\n            else {\n                /*diff*/\n                const newTree = await this.root(this.data);\n                newTree.watcher = this;\n                await singleElementDiff(this.vdomTree, newTree, this);\n                this.vdomTree = newTree;\n            }\n            this.emit('afterFlush');\n        });\n    }\n    promisedFlush = () => {\n        return new Promise(resolve => {\n            this.afterFlush(resolve, true);\n            this.flush();\n        });\n    };\n    listenDOMEvent() {\n        const f = (type) => {\n            return (e) => {\n                const target = e.target;\n                if (!target) {\n                    return;\n                }\n                const args = {\n                    model: this.model,\n                    event: e,\n                    srcTarget: target,\n                    currentTarget: target,\n                    watcher: this,\n                    flush: this.flush,\n                    stop: false,\n                    $ref: null,\n                    data: this.data,\n                    delayPool: this.delayFnPool,\n                    promisedFlush: this.promisedFlush\n                };\n                const h = () => {\n                    if (!args.currentTarget) {\n                        return;\n                    }\n                    const $ref = Reflect.get(args.currentTarget, '$ref');\n                    if (!$ref) {\n                        return;\n                    }\n                    args.$ref = $ref;\n                    void nextDoor(async () => {\n                        if ($ref.watcher === this) {\n                            //由函数内部决定stop,所以要await一下\n                            await $ref.emit(type, args);\n                        }\n                        if (args.currentTarget && !args.stop) {\n                            args.currentTarget = args.currentTarget.parentElement;\n                            h();\n                        }\n                    });\n                };\n                h();\n                this.flushAfterEvent && this.flush();\n            };\n        };\n        const sT = new Set(this.listened);\n        for (const name of sT) {\n            document.addEventListener(name, f(name), true);\n        }\n        document.addEventListener('change', ev => {\n            const target = ev.target;\n            if (target instanceof HTMLElement) {\n                const $ref = Reflect.get(target, '$ref');\n                if ($ref && Reflect.has(target, 'value')) {\n                    $ref.properties.value = Reflect.get(target, 'value');\n                }\n            }\n        }, true);\n    }\n    constructor(init) {\n        this.listened = (init.listened || []).concat(['click', 'change']);\n        this.target = init.target;\n        this.data = init.data;\n        this.root = init.root;\n        this.model = this.genModel();\n        this.flushAfterEvent = !!init.flushAfterEvent;\n        this.listenDOMEvent();\n        this.flush();\n    }\n    genModel() {\n        return new Proxy(this.data, {\n            get: (target, key) => {\n                const value = Reflect.get(target, key);\n                if (typeof value === 'object' && value) {\n                    this.flush();\n                }\n                return value;\n            },\n            set: (target, key, newValue) => {\n                const oldValue = Reflect.get(target, key, target);\n                if (!Object.is(newValue, oldValue)) {\n                    this.flush();\n                }\n                return Reflect.set(target, key, newValue, target);\n            }\n        });\n    }\n}\nclass vHTML extends vElement {\n    html = '';\n    constructor(tag, html) {\n        super(tag);\n        this.html = html;\n    }\n    stopDiffChild = true;\n    stopRendChild = true;\n    afterRendOrDiff() {\n        if (this.$ref) {\n            this.$ref.innerHTML = this.html;\n        }\n    }\n}\nfunction f() {\n    return function h(tag) {\n        return new vElement(tag);\n    };\n}\nfunction fAny() {\n    return function hAny(tag) {\n        return new vElement(tag);\n    };\n}\nasync function sleep(ms, val) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, ms, val);\n    });\n}\nfunction shiftRef(ot, nt) {\n    nt.watcher = ot.watcher;\n    ot.watcher = void 0;\n    const r = ot.$ref;\n    if (r) {\n        Reflect.set(r, '$ref', nt);\n        nt.$ref = r;\n        ot.$ref = null;\n    }\n    return r;\n}\nasync function rend(node, watcher) {\n    //当节点是Watcher时,直接返回\n    if (node instanceof Watcher) {\n        return await node.$ref;\n    }\n    let res;\n    if (node instanceof vElement) {\n        res = document.createElement(node.tag);\n        const { children, style, attributes, properties } = node;\n        const rst = res.style;\n        for (const [key, value] of Object.entries(style)) {\n            rst[key] = value;\n        }\n        if (!node.stopRendChild) {\n            for (const child of children) {\n                res.appendChild(await rend(child, watcher));\n            }\n        }\n        for (const [key, value] of Object.entries(attributes)) {\n            isNul(value) || res.setAttribute(key, value + '');\n        }\n        for (const [key, value] of Object.entries(properties)) {\n            Reflect.set(res, key, value);\n        }\n    }\n    else {\n        res = document.createTextNode(node.data);\n    }\n    node.$ref = res;\n    node.watcher = watcher;\n    Reflect.set(res, '$ref', node);\n    void nextDoor(() => node.afterRendOrDiff('rend'));\n    return res;\n}\nasync function childrenDiff(ocs, ncs, pr, watcher) {\n    let i = 0;\n    for (const l = Math.min(ocs.length, ncs.length); i < l; i++) {\n        await singleElementDiff(ocs[i], ncs[i], watcher);\n    }\n    if (ocs.length === ncs.length) {\n        return;\n    }\n    if (ocs.length > ncs.length) {\n        for (const l = ocs.length; i < l; i++) {\n            const oc = ocs[i];\n            //当旧孩子是一个Watcher时\n            if (oc instanceof Watcher) {\n                (await oc.$ref).remove();\n                continue;\n            }\n            if (oc.$ref) {\n                Reflect.set(oc.$ref, '$ref', null);\n                oc.$ref.remove();\n                oc.$ref = null;\n            }\n        }\n    }\n    else {\n        for (const l = ncs.length; i < l; i++) {\n            const nc = ncs[i];\n            //当新孩子是一个Watcher时\n            if (nc instanceof Watcher) {\n                const nr = await nc.$ref;\n                pr.appendChild(nr);\n            }\n            else {\n                pr.appendChild(await rend(nc, watcher));\n            }\n        }\n    }\n}\nfunction attrsDiff(type, ot, nt, $ref) {\n    const f = () => {\n        switch (type) {\n            case 'attributes':\n                {\n                    const keysSet = new Set([...Object.keys(ot.attributes), ...Object.keys(nt.attributes)]);\n                    for (const key of keysSet) {\n                        const v0 = nt.attributes[key];\n                        const v1 = ot.attributes[key];\n                        if (isNul(v0)) {\n                            $ref.removeAttribute(key);\n                        }\n                        else if (v0 !== v1) {\n                            $ref.setAttribute(key, v0 + '');\n                        }\n                    }\n                }\n                break;\n            case 'properties':\n                {\n                    const keysSet = new Set([...Object.keys(ot.properties), ...Object.keys(nt.properties)]);\n                    for (const key of keysSet) {\n                        if (key === '$ref') {\n                            continue;\n                        }\n                        const v0 = nt.properties[key];\n                        const v1 = ot.properties[key];\n                        if (v0 !== v1) {\n                            Reflect.set($ref, key, v0);\n                        }\n                    }\n                }\n                break;\n            case 'styles':\n                {\n                    const keysSet = new Set([...Object.keys(ot.style), ...Object.keys(nt.style)]);\n                    for (const key of keysSet) {\n                        const v0 = nt.style[key];\n                        const v1 = ot.style[key];\n                        if (isNul(v0)) {\n                            $ref.style[key] = null;\n                        }\n                        else if (v0 !== v1) {\n                            $ref.style[key] = v0;\n                        }\n                    }\n                }\n                break;\n        }\n    };\n    void nextDoor(f);\n}\nasync function singleElementDiff(ot, nt, watcher) {\n    //当ot和nt是同一个对象时,直接结束\n    if (ot === nt) {\n        if (!(ot instanceof Watcher)) {\n            const msg = `must not be reuse the same VDom node`;\n            alert(msg);\n            throw new Error(msg);\n        }\n        return;\n    }\n    //当ot或nt是Watcher时,直接替换\n    if (ot instanceof Watcher || nt instanceof Watcher) {\n        //debugger\n        const r0 = await (ot.$ref || rend(ot, watcher));\n        const r1 = await (nt.$ref || rend(nt, watcher));\n        r0.replaceWith(r1);\n        return;\n    }\n    //ot与nt都不是Watcher时\n    const _ref = shiftRef(ot, nt);\n    if (!_ref) {\n        const msg = `something out of expected:old child's $ref is null`;\n        alert(msg);\n        throw new Error(msg);\n    }\n    //当ot和nt的tag和key相同时才尝试做diff\n    if (ot instanceof vElement && nt instanceof vElement && ot.tag === nt.tag && ot.getKey() === nt.getKey()) {\n        const $ref = _ref;\n        if ((!ot.stopDiffChild) && (!nt.stopDiffChild)) {\n            await childrenDiff(ot.children, nt.children, $ref, watcher);\n            attrsDiff('attributes', ot, nt, $ref);\n            attrsDiff('styles', ot, nt, $ref);\n            attrsDiff('properties', ot, nt, $ref);\n            void nextDoor(() => nt.afterRendOrDiff('diff'));\n        }\n        else if (ot.stopDiffChild && nt.stopDiffChild) {\n            attrsDiff('attributes', ot, nt, $ref);\n            attrsDiff('styles', ot, nt, $ref);\n            attrsDiff('properties', ot, nt, $ref);\n            void nextDoor(() => nt.afterRendOrDiff('diff'));\n        }\n        else {\n            _ref.replaceWith(await rend(nt, watcher));\n            Reflect.set(_ref, '$ref', null);\n        }\n    }\n    else if (ot instanceof vText && nt instanceof vText) {\n        if (nt.data !== ot.data) {\n            _ref.data = nt.data;\n        }\n        void nextDoor(() => nt.afterRendOrDiff());\n    }\n    else {\n        _ref.replaceWith(await rend(nt, watcher));\n        Reflect.set(_ref, '$ref', null);\n    }\n}\nfunction debounce(fn, delay) {\n    let timer = void 0;\n    return () => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            fn();\n        }, delay);\n    };\n}\nfunction throttle(fn, delay) {\n    let timer = void 0;\n    return () => {\n        if (timer !== void 0) {\n            return;\n        }\n        timer = setTimeout(() => {\n            fn();\n            timer = void 0;\n        }, delay);\n    };\n}\nasync function nextDoor(f) {\n    return new Promise(resolve => resolve(void 0)).then(f);\n}\nsetOverrideInterval.cache = new Map();\nfunction setOverrideInterval(key, cb, ms) {\n    const clear = () => {\n        if (setOverrideInterval.cache.has(key)) {\n            clearInterval(setOverrideInterval.cache.get(key));\n        }\n    };\n    clear();\n    setOverrideInterval.cache.set(key, setInterval(async () => {\n        if (await cb()) {\n            clear();\n            setOverrideInterval.cache.delete(key);\n        }\n    }, ms));\n}\nsetLimitInterval.cache = new Map();\nfunction setLimitInterval(key, cb, ms) {\n    if (setLimitInterval.cache.has(key)) {\n        return;\n    }\n    setLimitInterval.cache.set(key, setInterval(async () => {\n        if (await cb()) {\n            clearInterval(setLimitInterval.cache.get(key));\n            setLimitInterval.cache.delete(key);\n        }\n    }, ms));\n}\nfunction cachedFn(fn, arg) {\n    let timeStamp = new Date;\n    let value = fn(arg);\n    return {\n        value: () => value,\n        flush: () => {\n            timeStamp = new Date;\n            value = fn(arg);\n        },\n        lastTime: () => timeStamp,\n        fromLastTime: () => Date.now() - +timeStamp\n    };\n}\nclass DelayFnManager {\n    map = new Map();\n    set(k, fn) {\n        this.map.set(k, fn);\n    }\n    clear() {\n        this.map.clear();\n    }\n    delete(k) {\n        this.map.delete(k);\n    }\n    run(k) {\n        this.map.get(k)?.();\n        this.delete(k);\n    }\n    runAll() {\n        for (const [_, fn] of this.map) {\n            fn();\n        }\n        this.clear();\n    }\n    keyFilterRun(filter) {\n        for (const [key, fn] of this.map) {\n            if (filter(key)) {\n                fn();\n                this.map.delete(key);\n            }\n        }\n    }\n}\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///../scripts/subs/ubf/index.js?");

/***/ }),

/***/ "../scripts/subs/util/index.js":
/*!*************************************!*\
  !*** ../scripts/subs/util/index.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DelayFnManager: () => (/* binding */ DelayFnManager),\n/* harmony export */   arrDelete: () => (/* binding */ arrDelete),\n/* harmony export */   arrayBufferToHex: () => (/* binding */ arrayBufferToHex),\n/* harmony export */   arrayDiff: () => (/* binding */ arrayDiff),\n/* harmony export */   arrayRevMap: () => (/* binding */ arrayRevMap),\n/* harmony export */   arraysComboEach: () => (/* binding */ arraysComboEach),\n/* harmony export */   cachedFn: () => (/* binding */ cachedFn),\n/* harmony export */   cleanPath: () => (/* binding */ cleanPath),\n/* harmony export */   copyJSON: () => (/* binding */ copyJSON),\n/* harmony export */   copystructured: () => (/* binding */ copystructured),\n/* harmony export */   debounce: () => (/* binding */ debounce),\n/* harmony export */   deepAssign: () => (/* binding */ deepAssign),\n/* harmony export */   encodeComnTag: () => (/* binding */ encodeComnTag),\n/* harmony export */   fixedPrint: () => (/* binding */ fixedPrint),\n/* harmony export */   genFuncTag: () => (/* binding */ genFuncTag),\n/* harmony export */   getFileNameInfoFromUrl: () => (/* binding */ getFileNameInfoFromUrl),\n/* harmony export */   getInsertion: () => (/* binding */ getInsertion),\n/* harmony export */   getValueByMyKey: () => (/* binding */ getValueByMyKey),\n/* harmony export */   has: () => (/* binding */ has),\n/* harmony export */   hashedDlName: () => (/* binding */ hashedDlName),\n/* harmony export */   init: () => (/* binding */ init),\n/* harmony export */   keys: () => (/* binding */ keys),\n/* harmony export */   loopAwait: () => (/* binding */ loopAwait),\n/* harmony export */   myJsonHandler: () => (/* binding */ myJsonHandler),\n/* harmony export */   myKey: () => (/* binding */ myKey),\n/* harmony export */   myUnjsonHandler: () => (/* binding */ myUnjsonHandler),\n/* harmony export */   nextDoor: () => (/* binding */ nextDoor),\n/* harmony export */   noQuery: () => (/* binding */ noQuery),\n/* harmony export */   pure: () => (/* binding */ pure),\n/* harmony export */   readonlyProxy: () => (/* binding */ readonlyProxy),\n/* harmony export */   setLimitInterval: () => (/* binding */ setLimitInterval),\n/* harmony export */   setOverrideInterval: () => (/* binding */ setOverrideInterval),\n/* harmony export */   sleep: () => (/* binding */ sleep),\n/* harmony export */   splitRecordByMyKey: () => (/* binding */ splitRecordByMyKey),\n/* harmony export */   strTag: () => (/* binding */ strTag),\n/* harmony export */   table2DSize: () => (/* binding */ table2DSize),\n/* harmony export */   throttle: () => (/* binding */ throttle),\n/* harmony export */   throttleInterval: () => (/* binding */ throttleInterval),\n/* harmony export */   toFetchHeaders: () => (/* binding */ toFetchHeaders)\n/* harmony export */ });\nfunction arrayBufferToHex(ab) {\n    return Array.from(new Uint8Array(ab)).map(x => x.toString(16).padStart(2, '0').toLowerCase()).join('');\n}\nfunction toFetchHeaders(h) {\n    return Object.fromEntries(Object.entries(h).map(pair => pair.map(x => encodeURIComponent(x))));\n}\nfunction table2DSize(table) {\n    let len = 1;\n    for (const arr of table) {\n        len *= arr.length;\n    }\n    return len;\n}\nfunction genFuncTag(f) {\n    return function tag(constStr, ...inputStr) {\n        let res = '';\n        for (let i = 0, l = constStr.length - 1; i < l; i++) {\n            res += constStr[i] + f(inputStr[i]);\n        }\n        res += constStr[constStr.length - 1];\n        return res;\n    };\n}\nasync function loopAwait(condiction, returnValue, interval = 0) {\n    while (true) {\n        if (await condiction()) {\n            return returnValue();\n        }\n        else {\n            await sleep(interval);\n        }\n    }\n}\nfunction debounce(fn, delay) {\n    let timer = void 0;\n    return () => {\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            fn();\n        }, delay);\n    };\n}\nfunction throttle(fn, delay) {\n    let timer = void 0;\n    return () => {\n        if (timer !== void 0) {\n            return;\n        }\n        timer = setTimeout(() => {\n            fn();\n            timer = void 0;\n        }, delay);\n    };\n}\nfunction throttleInterval(fn, delay) {\n    let timer = void 0;\n    return () => {\n        if (timer !== void 0) {\n            return;\n        }\n        timer = setInterval(() => {\n            if (fn()) {\n                clearInterval(timer);\n                timer = void 0;\n            }\n        }, delay);\n    };\n}\nasync function nextDoor(f) {\n    return new Promise(res => res(void 0)).then(f);\n}\nsetOverrideInterval.cache = new Map();\nfunction setOverrideInterval(key, cb, ms) {\n    const clear = () => {\n        if (setOverrideInterval.cache.has(key)) {\n            clearInterval(setOverrideInterval.cache.get(key));\n        }\n    };\n    clear();\n    setOverrideInterval.cache.set(key, setInterval(async () => {\n        if (await cb()) {\n            clear();\n            setOverrideInterval.cache.delete(key);\n        }\n    }, ms));\n}\nsetLimitInterval.cache = new Map();\nfunction setLimitInterval(key, cb, ms) {\n    if (setLimitInterval.cache.has(key)) {\n        return;\n    }\n    setLimitInterval.cache.set(key, setInterval(async () => {\n        if (await cb()) {\n            clearInterval(setLimitInterval.cache.get(key));\n            setLimitInterval.cache.delete(key);\n        }\n    }, ms));\n}\nfunction cachedFn(fn, arg) {\n    let timeStamp = new Date;\n    let value = fn(arg);\n    return {\n        value: () => value,\n        flush: () => {\n            timeStamp = new Date;\n            value = fn(arg);\n        },\n        lastTime: () => timeStamp,\n        fromLastTime: () => Date.now() - +timeStamp\n    };\n}\nclass DelayFnManager {\n    map = new Map();\n    set(k, fn) {\n        this.map.set(k, fn);\n    }\n    clear() {\n        this.map.clear();\n    }\n    delete(k) {\n        this.map.delete(k);\n    }\n    run(k) {\n        this.map.get(k)?.();\n        this.delete(k);\n    }\n    runAll() {\n        for (const [_, fn] of this.map) {\n            fn();\n        }\n        this.clear();\n    }\n    keyFilterRun(filter) {\n        for (const [key, fn] of this.map) {\n            if (filter(key)) {\n                fn();\n                this.map.delete(key);\n            }\n        }\n    }\n}\nfunction arraysComboEach(table, executor) {\n    const argNames = [];\n    const contents = ['\\tconst list=[],idxList=[];\\n\\t'];\n    const idxNames = [];\n    for (let i = 0, m = table, l = m.length; i < l; i++) {\n        const idxn = 'idx' + i;\n        const argn = 'arr' + i;\n        const ln = 'l' + i;\n        const tab = '\\t'.repeat(i + 2);\n        argNames.push(argn);\n        idxNames.push(idxn);\n        contents.push(`for(let ${idxn}=0,${ln}=${argn}.length;${idxn}<${ln};${idxn}++){\\n${tab}list[${i}]=${argn}[${idxn}];idxList[${i}]=${idxn};\\n${tab}`);\n    }\n    contents.push(`f0(list,idxList);\\n`);\n    argNames.push('f0');\n    for (let m = table, i = m.length; i; i--) {\n        const tab = '\\t'.repeat(i);\n        contents.push(tab + '}\\n');\n    }\n    const gf = new Function(...argNames, contents.join(''));\n    return gf(...table, executor);\n}\nfunction has(item, key) {\n    return key in item;\n}\nfunction keys(item) {\n    return Reflect.ownKeys(item);\n}\nfunction arrayDiff(a, b) {\n    const mark = new Map();\n    for (const ele of a) {\n        mark.set(ele, (mark.get(ele) || 0) + 1);\n    }\n    for (const ele of b) {\n        mark.set(ele, (mark.get(ele) || 0) - 1);\n    }\n    for (const [k, v] of mark) {\n        if (!v) {\n            mark.delete(k);\n        }\n    }\n    return mark;\n}\nfunction readonlyProxy(item) {\n    return new Proxy(item, {\n        get(t, p) {\n            const v = Reflect.get(t, p);\n            if (v) {\n                if (typeof v === 'object') {\n                    return readonlyProxy(v);\n                }\n                else {\n                    return v;\n                }\n            }\n            else {\n                return v;\n            }\n        },\n        set() {\n            return true;\n        }\n    });\n}\nfunction copystructured(src, prototype) {\n    const r = structuredClone(src);\n    if (typeof prototype !== 'undefined') {\n        Object.setPrototypeOf(r, prototype);\n    }\n    return r;\n}\nfunction copyJSON(src, prototype) {\n    const s = new WeakSet;\n    const r = JSON.parse(JSON.stringify(src, (_, v) => {\n        if (typeof v === 'object' && v) {\n            if (s.has(v)) {\n                return void 0;\n            }\n            else {\n                s.add(v);\n                return v;\n            }\n        }\n        else {\n            return v;\n        }\n    }));\n    if (typeof prototype !== 'undefined') {\n        Object.setPrototypeOf(r, prototype);\n    }\n    return r;\n}\nfunction deepAssign(target, src) {\n    for (const key of Object.keys(src)) {\n        let value = Reflect.get(src, key);\n        if (value && typeof value === 'object') {\n            value = structuredClone(value);\n        }\n        Reflect.set(target, key, value);\n    }\n}\nfunction pure() {\n    return Object.create(null);\n}\nfunction init(n, m = 0) {\n    return n || m;\n}\nasync function sleep(ms, val) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, ms, val);\n    });\n}\nfunction strTag(constStr, ...inputStr) {\n    let res = '';\n    for (let i = 0, l = constStr.length - 1; i < l; i++) {\n        res += constStr[i] + inputStr[i];\n    }\n    res += constStr[constStr.length - 1];\n    return res;\n}\nfunction encodeComnTag(constStr, ...inputStr) {\n    let res = '';\n    for (let i = 0, l = constStr.length - 1; i < l; i++) {\n        res += constStr[i] + encodeURIComponent(inputStr[i]);\n    }\n    res += constStr[constStr.length - 1];\n    return res;\n}\nfunction arrDelete(arr, testor) {\n    const tmp = arr.filter((x, i, a) => !testor(x, i, a));\n    const len = tmp.length;\n    for (let i = 0; i < len; i++) {\n        arr[i] = tmp[i];\n    }\n    arr.length = len;\n    return arr;\n}\nfunction getInsertion(ss) {\n    const l = ss.length;\n    if (l === 0) {\n        return new Set;\n    }\n    else if (l === 1) {\n        return ss[0];\n    }\n    else {\n        const sr = new Set();\n        const sb = ss[0];\n        for (const item of sb) {\n            let flag = true;\n            for (let i = 1; i < l; i++) {\n                if (!ss[i].has(item)) {\n                    flag = false;\n                    break;\n                }\n            }\n            if (flag) {\n                sr.add(item);\n            }\n        }\n        return sr;\n    }\n}\nfunction myKey(item, keys) {\n    const t = Object.create(null);\n    for (const key of keys) {\n        t[key] = item[key];\n    }\n    return JSON.stringify(t, (_, v) => {\n        if (typeof v === 'undefined') {\n            return !!v;\n        }\n        else {\n            return v;\n        }\n    });\n}\nfunction getValueByMyKey(record, item, keys) {\n    return record[myKey(item, keys)];\n}\nfunction splitRecordByMyKey(record, keys) {\n    const r = Object.create(null);\n    for (const [_, value] of Object.entries(record)) {\n        const mkey = myKey(value, keys);\n        if (!r[mkey]) {\n            r[mkey] = [];\n        }\n        r[mkey].push(value);\n    }\n    return r;\n}\nfunction arrayRevMap(arr) {\n    const m = new Map();\n    for (let i = 0, l = arr.length; i < l; i++) {\n        m.set(arr[i], i);\n    }\n    return m;\n}\nconst myJsonHandler = (_, value) => {\n    if (value instanceof Set) {\n        return { __class__: 'Set', content: [...value] };\n    }\n    else if (value instanceof Map) {\n        return { __class__: 'Map', content: [...value] };\n    }\n    else {\n        return value;\n    }\n};\nconst myUnjsonHandler = (_, value) => {\n    if (value.__class__ === 'Set') {\n        return new Set(value.content);\n    }\n    else if (value.__class__ === 'Map') {\n        return new Map(value.content);\n    }\n    else {\n        return value;\n    }\n};\nfunction cleanPath(path) {\n    const r0 = /\\\\/g;\n    const r1 = /\\/+/g;\n    return path.replace(r0, '/').replace(r1, '/');\n}\n/**\n *\n * @param outerFrame An iframe element that is a childnode in a document context.Else,this function will not work.\n * @param printContainer The element its outerHTML will be printed.\n * @param margin Controls the margin in page of print area.\n * @param css0 CSS code inserted in the outer iframe to control the whole page.\n * @param css1 CSS code inserted in the inner iframe to control the print area.\n */\nasync function fixedPrint(outerFrame, printContainer, margin, css0 = '', css1 = '') {\n    outerFrame.style.display = 'none';\n    outerFrame.style.width = '100%';\n    outerFrame.style.height = '100%';\n    const ocd = await loopAwait(async () => !!outerFrame.contentDocument, async () => outerFrame.contentDocument, 500);\n    ocd.body.innerHTML = ``;\n    ocd.head.innerHTML = `<style>\r\n            @media print {\r\n                @page {\r\n                    size: A4 portrait;\r\n                    /* 边距 上右下左 */\r\n                    margin: 0;\r\n                    resize: none;\r\n                }\r\n                *{\r\n                    padding:0;\r\n                    margin:0;\r\n                }\r\n            }\\n${css0}\r\n        </style>`;\n    const innerFrame = ocd.createElement(`iframe`);\n    ocd.body.appendChild(innerFrame);\n    innerFrame.style.width = '100%';\n    innerFrame.style.height = '100%';\n    innerFrame.style.left = margin.left;\n    innerFrame.style.top = margin.top;\n    innerFrame.style.border = 'none';\n    innerFrame.style.position = 'fixed';\n    const icd = await loopAwait(async () => !!innerFrame.contentDocument, async () => innerFrame.contentDocument, 500);\n    icd.head.innerHTML = `<style>*{\r\n                    padding:0;\r\n                    margin:0;\r\n                }\\n${css1}</style>`;\n    icd.body.innerHTML = printContainer.outerHTML;\n    //execute printing,on outerFrame\n    outerFrame.contentWindow?.print();\n}\nfunction noQuery(url) {\n    return url.split('?')[0];\n}\nfunction getFileNameInfoFromUrl(url) {\n    const filename = noQuery(url).split('/').pop() ?? url;\n    const [name, ext] = filename.split('.');\n    return {\n        filename: filename,\n        name: name,\n        ext: ext ?? ''\n    };\n}\nasync function hashedDlName(url, dec) {\n    const h = arrayBufferToHex(await crypto.subtle.digest('SHA-256', new TextEncoder().encode(url)));\n    const info = getFileNameInfoFromUrl(url);\n    return `${dec ? decodeURIComponent(info.name) : info.name}.${h}.${info.ext}`;\n}\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///../scripts/subs/util/index.js?");

/***/ }),

/***/ "../scripts/subs/对账3/filterArgType.txt":
/*!*********************************************!*\
  !*** ../scripts/subs/对账3/filterArgType.txt ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (__webpack_require__.p + \"static_source/filterArgType_a29e0efbe809077351b59a6faa4e2f35.txt\");\n\n//# sourceURL=webpack:///../scripts/subs/%E5%AF%B9%E8%B4%A63/filterArgType.txt?");

/***/ }),

/***/ "../scripts/subs/对账3/index.css":
/*!*************************************!*\
  !*** ../scripts/subs/对账3/index.css ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../webpack/node_modules/_style-loader@4.0.0@style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../webpack/node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../webpack/node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../webpack/node_modules/_style-loader@4.0.0@style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../webpack/node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../webpack/node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _webpack_node_modules_css_loader_7_1_2_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../webpack/node_modules/_css-loader@7.1.2@css-loader/dist/cjs.js!./index.css */ \"./node_modules/_css-loader@7.1.2@css-loader/dist/cjs.js!../scripts/subs/对账3/index.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _webpack_node_modules_style_loader_4_0_0_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_webpack_node_modules_css_loader_7_1_2_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_webpack_node_modules_css_loader_7_1_2_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _webpack_node_modules_css_loader_7_1_2_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _webpack_node_modules_css_loader_7_1_2_css_loader_dist_cjs_js_index_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n\n\n//# sourceURL=webpack:///../scripts/subs/%E5%AF%B9%E8%B4%A63/index.css?");

/***/ }),

/***/ "../scripts/subs/对账3/index.js":
/*!************************************!*\
  !*** ../scripts/subs/对账3/index.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ubf_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ubf/index */ \"../scripts/subs/ubf/index.js\");\n/* harmony import */ var _ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ubf-cmt/index */ \"../scripts/subs/ubf-cmt/index.js\");\n/* harmony import */ var _util_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/index */ \"../scripts/subs/util/index.js\");\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.css */ \"../scripts/subs/对账3/index.css\");\n/* harmony import */ var _filterArgType_txt__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./filterArgType.txt */ \"../scripts/subs/对账3/filterArgType.txt\");\n/* harmony import */ var _easyDB_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../easyDB/index */ \"../scripts/subs/easyDB/index.js\");\n/// <reference path=\"./extra.d.ts\" />\n\n\n\n\n\n\nfunction watermarkFromSavename(savename) {\n    const r = /\\d{6,8}/mg;\n    return savename.replaceAll(r, $0 => {\n        switch ($0.length) {\n            case 4:\n                return '\\n' + $0 + '年';\n            case 6:\n                return `\\n${$0.slice(0, 4)}年${$0.slice(4)}月`;\n            case 8:\n                return `\\n${$0.slice(0, 4)}年${$0.slice(4, 6)}月${$0.slice(6)}日`;\n            default:\n                return `\\n${$0}`;\n        }\n    });\n}\nfunction showDate(d) {\n    function format(ns, sep, pl = 2, padding = '0') {\n        return ns.map(x => x.toString().padStart(pl, padding)).join(sep);\n    }\n    const r0 = [\n        d.getFullYear(),\n        d.getMonth() + 1,\n        d.getDate(),\n    ];\n    const r1 = [\n        d.getHours(),\n        d.getMinutes(),\n        d.getSeconds()\n    ];\n    if (r1.some(x => x !== 0)) {\n        return `${format(r0, '-')} ${format(r1, ':')}`;\n    }\n    else {\n        return format(r0, '-');\n    }\n}\n/**\n * 舍去\"分\"位\n */\nfunction floorFen(mount) {\n    const s = mount + '';\n    const i = s.indexOf('.');\n    if (i === -1) {\n        return mount;\n    }\n    else {\n        return +s.slice(0, i + 2);\n    }\n}\n/**\n * 一些奇怪的检查\n */\nfunction validateItem(item) {\n    const target = item.bill.out;\n    if (target >= 1000) {\n        return `支出金额超过了1000`;\n    }\n    if (floorFen(target) !== target) {\n        return `支出金额[分]位应为0`;\n    }\n    return null;\n}\nfunction calculateStringSimilarity(str1, str2) {\n    const matrix = [];\n    const len1 = str1.length;\n    const len2 = str2.length;\n    if (len1 === 0)\n        return 1;\n    if (len2 === 0)\n        return 0;\n    // 初始化矩阵\n    for (let i = 0; i <= len1; i++) {\n        matrix[i] = [i];\n    }\n    for (let j = 0; j <= len2; j++) {\n        matrix[0][j] = j;\n    }\n    // 填充矩阵\n    for (let i = 1; i <= len1; i++) {\n        for (let j = 1; j <= len2; j++) {\n            const cost = str1[i - 1] === str2[j - 1] ? 0 : 1;\n            matrix[i][j] = Math.min(matrix[i - 1][j] + 1, // 删除\n            matrix[i][j - 1] + 1, // 插入\n            matrix[i - 1][j - 1] + cost // 替换\n            );\n        }\n    }\n    // 计算相似度（1 - 距离 / 最大长度）\n    return 1 - matrix[len1][len2] / Math.max(len1, len2);\n}\nconst BASEDATE = new Date;\nBASEDATE.setMonth(BASEDATE.getMonth() - 1);\nBASEDATE.setHours(0);\nBASEDATE.setMinutes(0);\nBASEDATE.setSeconds(0);\nBASEDATE.setMilliseconds(0);\nconst _ItemTags = ['办公经费', '服务群众', '村委会开支', '其他', '未定'];\nclass Unit {\n    in = 0;\n    out = 0;\n    blance = 0;\n    inAcc = 0;\n    outAcc = 0;\n}\nclass Item {\n    bill = new Unit;\n    bank = new Unit;\n    time = BASEDATE;\n    note = '';\n    select = false;\n    constructor(time) {\n        this.time = time;\n    }\n    tag = '未定';\n}\nclass ExItem {\n    billBlance = 0;\n    bankBlance = 0;\n    note = '';\n}\nclass Offset {\n    left = -4;\n    top = -4;\n}\nlet ___d;\nclass Data {\n    打印标签 = '未定';\n    ppStore = new _easyDB_index__WEBPACK_IMPORTED_MODULE_5__.Store(`duizhang3_pp_offset_${location.href}`);\n    printPageOffset = this.ppStore.getItem('d').then(x => {\n        return x ? x : new Offset;\n    });\n    接续余额() {\n        this.flush(false);\n        this.transformData.prevMonth.bankBlance = +(this.transformData.items.at(-1)?.bank.blance ?? 0).toFixed(2);\n        this.transformData.prevMonth.billBlance = +(this.transformData.items.at(-1)?.bill.blance ?? 0).toFixed(2);\n        this.transformData.items.length = 0;\n        this.flush(false);\n    }\n    baseDate = BASEDATE;\n    async validateItems() {\n        const warnings = [];\n        let index = 0;\n        for (const item of this.transformData.items) {\n            const warning = validateItem(item);\n            if (warning) {\n                warnings.push(`[${index}][${item.note}]${warning}`);\n            }\n            index++;\n        }\n        if (warnings.length) {\n            const msg = warnings.join('\\n');\n            console.warn(msg);\n            await (0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askTextArea)(msg);\n        }\n    }\n    transformData = {\n        合计说明: '本期合计',\n        账簿格式: {\n            每页条目数: 16,\n            每页行数: 18,\n            //in mm\n            全本宽度: 268,\n            全本高度: 191.5,\n            正文区域上边距: 50,\n            正文区域左边距: 19,\n            单元格高度: 7.3,\n            大单元格宽度: 40,\n            中单元格宽度: 5,\n            小单元格宽度: 3,\n            //下列三项未使用\n            收左边距: [97, 176],\n            支左边距: [120, 203.5],\n            余左边距: [148, 231],\n            //in degree\n            旋转角度: -90\n        },\n        报账表格式: {\n            银行项目: '工商银行',\n            //in mm\n            年月上边距: 16,\n            银行项目上边距: [50, 58, 66, 74],\n            全本宽度: 190,\n            全本高度: 106,\n            现金上边距: 42,\n            合计上边距: 82,\n            左边距: {\n                项目: 39,\n                上期余额: 62,\n                张数0: 85,\n                金额0: 97,\n                张数1: 116,\n                金额1: 127,\n                本期余额: 146\n            },\n            fontSize: '12px'\n        },\n        落款: {\n            银行: '中国工商银行'\n        },\n        prevMonth: new ExItem,\n        specialExItems: [],\n        items: [],\n        saveName: [\n            this.baseDate.getFullYear(),\n            this.baseDate.getMonth() + 1\n        ].map(x => x.toString().padStart(2, '0')).join('')\n    };\n    lastFlushTime = null;\n    报账表格式计算 = {};\n    账簿格式计算 = {\n        全本宽高差半数: () => {\n            return Math.abs(this.transformData.账簿格式.全本宽度 - this.transformData.账簿格式.全本高度) * 0.5;\n        },\n        /**n从0开始;结果单位为mm*/\n        正文区域第n列左间距: (n) => {\n            return 6 * this.transformData.账簿格式.中单元格宽度 + this.transformData.账簿格式.大单元格宽度 + n * 9 * this.transformData.账簿格式.小单元格宽度 + 1.1 * n;\n        }\n    };\n    /**/\n    spBillBlance = 0;\n    spBankBlance = 0;\n    nrPickerCmd = `(item,index) => true`;\n    spPickerCmd = `(exItem,index) => true`;\n    sort0() {\n        this.transformData.items.sort((a, b) => {\n            const t0 = (a.bank.in + a.bank.out) > 0 ? -1 : 0;\n            const t1 = (b.bank.in + b.bank.out) > 0 ? -1 : 0;\n            const s = t0 - t1;\n            if (s) {\n                return s;\n            }\n            return +a.time - +b.time;\n        });\n        this.flush();\n    }\n    /**现金收入条数,现金支出条数,银行收入条数,银行支出条数*/\n    counts = [0, 0, 0, 0];\n    //打印页页数\n    get 账簿页数() {\n        const t = Math.ceil(this.transformData.items.length / this.transformData.账簿格式.每页条目数) * 2;\n        const u = this.transformData.specialExItems.length + 1;\n        const lines = this.transformData.items.length + t + u;\n        return Math.ceil(lines / this.transformData.账簿格式.每页行数);\n    }\n    //账簿页码\n    _printPageNo = 0;\n    get 账簿页码() {\n        return this._printPageNo;\n    }\n    set 账簿页码(value) {\n        value = Math.floor(value);\n        this._printPageNo = Math.max(Math.min(value, this.账簿页数 - 1), 0);\n    }\n    //网页页数\n    get pages() {\n        return Math.ceil(this.transformData.items.length / this.transformData.账簿格式.每页条目数);\n    }\n    //网页页码\n    _pageNo = 0;\n    get pageNo() {\n        return this._pageNo;\n    }\n    set pageNo(value) {\n        value = Math.floor(value);\n        this._pageNo = Math.max(Math.min(value, this.pages - 1), 0);\n    }\n    _相似度阈值 = 0.85;\n    get 相似度阈值() {\n        return this._相似度阈值;\n    }\n    set 相似度阈值(value) {\n        if (isNaN(value)) {\n            return;\n        }\n        if (value <= 0 || value > 1) {\n            return;\n        }\n        this._相似度阈值 = value;\n    }\n    相似度检查() {\n        let text = ``;\n        const y = this.相似度阈值;\n        for (let i = 0, m = this.transformData.items, l = m.length - 1, ll = l + 1; i < l; i++) {\n            for (let j = i + 1; j < ll; j++) {\n                const item0 = m[i];\n                const item1 = m[j];\n                const str0 = [\n                    showDate(item0.time),\n                    item0.note,\n                    item0.bill.in,\n                    item0.bill.out,\n                    item0.bank.in,\n                    item0.bank.out,\n                ].join('__');\n                const str1 = [\n                    showDate(item1.time),\n                    item1.note,\n                    item1.bill.in,\n                    item1.bill.out,\n                    item1.bank.in,\n                    item1.bank.out,\n                ].join('__');\n                const similar = calculateStringSimilarity(str0, str1);\n                if (similar >= y) {\n                    text += (`第[${i}]条记录[${item0.note}]与第[${j}]条记录[${item1.note}]较为相似(${(similar * 100).toFixed(2)}%),请核对\\n`);\n                }\n            }\n        }\n        if (text.length) {\n            const d = document.createElement('pre');\n            d.textContent = text;\n            const outText = d.textContent;\n            const html = `<meta charset=utf-8 /><pre style=\"font-size:200%;font-weight:1000;\">${outText}</pre>`;\n            const b = new Blob([html], { type: 'text/html' });\n            const u = URL.createObjectURL(b);\n            window.open(u);\n        }\n    }\n    //刷新\n    flushItems() {\n        const items = this.transformData.items;\n        const bankBlance = this.transformData.prevMonth.bankBlance;\n        const billBlance = this.transformData.prevMonth.billBlance;\n        let b0 = bankBlance, b1 = billBlance;\n        let ia0 = 0, oa0 = 0;\n        let ia1 = 0, oa1 = 0;\n        for (const item of items) {\n            ia0 += item.bank.in;\n            oa0 += item.bank.out;\n            b0 += item.bank.in - item.bank.out;\n            item.bank.blance = b0;\n            item.bank.inAcc = ia0;\n            item.bank.outAcc = oa0;\n            ia1 += item.bill.in;\n            oa1 += item.bill.out;\n            b1 += item.bill.in - item.bill.out;\n            item.bill.blance = b1;\n            item.bill.inAcc = ia1;\n            item.bill.outAcc = oa1;\n        }\n    }\n    flushExItems() {\n        let s0 = 0, s1 = 0;\n        for (const exItem of this.transformData.specialExItems) {\n            s0 += exItem.billBlance;\n            s1 += exItem.bankBlance;\n        }\n        this.spBillBlance = s0;\n        this.spBankBlance = s1;\n    }\n    /**\n     * 刷新统计数据\n     * @param vi 设置为true将检查条目合格性,默认为true\n     */\n    flush(vi = true) {\n        this.flushItems();\n        this.flushExItems();\n        this.lastFlushTime = new Date;\n        if (this.pageNo > this.pages - 1) {\n            this.pageNo = this.pages - 1;\n        }\n        this.counts[0] = this.transformData.items.filter(x => x.bill.in).length;\n        this.counts[1] = this.transformData.items.filter(x => x.bill.out).length;\n        this.counts[2] = this.transformData.items.filter(x => x.bank.in).length;\n        this.counts[3] = this.transformData.items.filter(x => x.bank.out).length;\n        vi && void this.validateItems();\n    }\n    importJson(file) {\n        if (!file) {\n            return;\n        }\n        const fr = new FileReader;\n        fr.onload = () => {\n            const d = JSON.parse(fr.result, (k, v) => {\n                if (k === 'time' || k === 'lastFlushTime') {\n                    return new Date(v);\n                }\n                else {\n                    return v;\n                }\n            });\n            this.transformData = d;\n            this.flush();\n            fr.onload = null;\n        };\n        fr.readAsText(file);\n    }\n    async exportJson() {\n        const ans = (0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('输入存档名', void 0, this.transformData.saveName || '1');\n        this.transformData.saveName = ans;\n        const dn = this.lastFlushTime ?? new Date;\n        const t = this.transformData;\n        const b = new Blob([JSON.stringify(t, void 0, '\\t')], { type: 'text/json' });\n        const u = URL.createObjectURL(b);\n        const a = document.createElement('a');\n        const hash = (0,_util_index__WEBPACK_IMPORTED_MODULE_2__.arrayBufferToHex)(await crypto.subtle.digest('SHA-256', await b.arrayBuffer()));\n        a.download = `对账3导出_${dn}_${hash}_${ans ?? ''}.json`;\n        a.href = u;\n        a.click();\n    }\n    导入记账(tp) {\n        const input = document.createElement('input');\n        input.type = 'file';\n        input.onchange = () => {\n            const file = input.files?.[0];\n            if (!file) {\n                return;\n            }\n            const fr = new FileReader;\n            fr.onload = () => {\n                const result = fr.result;\n                const units = JSON.parse(result);\n                for (const unit of units) {\n                    const item = new Item(BASEDATE);\n                    const k = unit.sign;\n                    if (k === 'move') {\n                        continue;\n                    }\n                    item.note = unit.note;\n                    item.time = new Date([\n                        Math.floor(unit.date / 1e4),\n                        Math.floor(unit.date / 1e2) % 1e2,\n                        unit.date % 1e2\n                    ].join('-'));\n                    item[tp][k] = unit.amountAbs;\n                    this.transformData.items.push(item);\n                }\n                this.flush();\n                fr.onload = null;\n            };\n            fr.readAsText(file);\n            input.onchange = null;\n        };\n        input.click();\n    }\n    导出现金记账() {\n        const t = this.transformData.items\n            .filter(item => item.bill.out > 0 || item.bill.in > 0)\n            .map(item => ({\n            note: item.note,\n            amountAbs: Math.abs(item.bill.in - item.bill.out),\n            date: (() => {\n                return +[\n                    item.time.getFullYear(),\n                    item.time.getMonth() + 1,\n                    item.time.getDate()\n                ]\n                    .map(x => x + '')\n                    .map(x => x.padStart(2, '0'))\n                    .join('');\n            })(),\n            checked: true,\n            sign: item.bill.in > item.bill.out ? 'in' : 'out',\n            marked: false\n        }));\n        const dn = this.lastFlushTime ?? new Date;\n        const b = new Blob([JSON.stringify(t)], { type: 'text/json' });\n        const u = URL.createObjectURL(b);\n        const a = document.createElement('a');\n        a.download = `对账3现金记账转换_${dn}_${(0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('输入存档名', void 0, '1') ?? ''}.json`;\n        a.href = u;\n        a.click();\n    }\n    导出银行记账() {\n        const t = this.transformData.items\n            .filter(item => item.bank.out > 0 || item.bank.in > 0)\n            .map(item => ({\n            note: item.note,\n            amountAbs: Math.abs(item.bank.in - item.bank.out),\n            date: (() => {\n                return +[\n                    item.time.getFullYear(),\n                    item.time.getMonth() + 1,\n                    item.time.getDate()\n                ]\n                    .map(x => x + '')\n                    .map(x => x.padStart(2, '0'))\n                    .join('');\n            })(),\n            checked: true,\n            sign: item.bank.in > item.bank.out ? 'in' : 'out',\n            marked: false\n        }));\n        const dn = this.lastFlushTime ?? new Date;\n        const b = new Blob([JSON.stringify(t)], { type: 'text/json' });\n        const u = URL.createObjectURL(b);\n        const a = document.createElement('a');\n        a.download = `对账3银行记账转换_${dn}_${(0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('输入存档名', void 0, '1') ?? ''}.json`;\n        a.href = u;\n        a.click();\n    }\n}\nvar ui;\n(function (ui) {\n    window.addEventListener('beforeunload', e => {\n        e.returnValue = '1';\n    });\n    const h = _ubf_index__WEBPACK_IMPORTED_MODULE_0__.f();\n    async function app(data) {\n        return h('div').addChildren([\n            title(data),\n            (await control(data)).setStyle({ textAlign: 'center', width: '100%', userSelect: 'none' }),\n            content(data).setStyle({ textAlign: 'center', width: '100%' }),\n            lastFlush(data).setStyle({ textAlign: 'center', width: '100%', color: 'blue' }),\n            h('div').addChild(账簿.main(data)).setStyle({ display: 'none' }),\n            h('div').addChild(报账表.main(data)).setStyle({ display: 'none' }),\n            h('div').addChild(按标签打印.main(data)).setStyle({ display: 'none' }),\n            iframe0(),\n            iframe1(),\n            iframe2(),\n        ]).setAttributes({ id: 'app' });\n    }\n    ui.app = app;\n    function title(data) {\n        return h('h3')\n            .addText(data.transformData.saveName)\n            .setStyle({ textAlign: 'center' })\n            .on('dblclick', ({ model, event }) => {\n            event.preventDefault();\n            model.transformData.saveName = (0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('保存名', '非空', data.transformData.saveName, aws => aws.length > 0);\n        })\n            .setAttributes({ title: '双击修改' })\n            .setStyle({ cursor: \"pointer\", userSelect: 'none' });\n    }\n    function iframe0() {\n        return h('iframe').setAttributes({ id: 'iframe' }).setStyle({ display: 'none' });\n    }\n    function iframe1() {\n        return h('iframe').setAttributes({ id: 'iframe_1' }).setStyle({ display: 'none' });\n    }\n    function iframe2() {\n        return h('iframe').setAttributes({ id: 'iframe_2' }).setStyle({ display: 'none' });\n    }\n    let 账簿;\n    (function (账簿) {\n        function mountsFormat(mounts) {\n            return mounts\n                .map(x => Math.round(x * 100))\n                //不写0\n                .map(x => x ? x + '' : '')\n                .map(x => x.padStart(9, '_'));\n        }\n        function main(data) {\n            return h('div').setStyle({\n                position: 'fixed',\n                top: data.账簿格式计算.全本宽高差半数() + 'mm',\n                left: '-' + data.账簿格式计算.全本宽高差半数() + 'mm',\n                width: data.transformData.账簿格式.全本宽度 + 'mm',\n                height: data.transformData.账簿格式.全本高度 + 'mm',\n                zIndex: 0,\n                transform: `rotate(${data.transformData.账簿格式.旋转角度}deg)`\n            }).addChildren([\n                signtures(data),\n                itemsPrint(data)\n            ]).setAttributes({ id: 'pr' });\n        }\n        账簿.main = main;\n        function itemsPrint(data) {\n            function mountBox(mount, top, left) {\n                if (mount.length !== 9) {\n                    throw new Error(mount);\n                }\n                const d = h('div').setStyle({\n                    position: 'absolute',\n                    top,\n                    left\n                });\n                const dd = h('div').setStyle({\n                    position: 'relative',\n                    width: data.transformData.账簿格式.小单元格宽度 * 9 + 'mm',\n                    height: data.transformData.账簿格式.单元格高度 + 'mm'\n                });\n                d.addChild(dd);\n                let j = 0;\n                for (const c of mount) {\n                    dd.addChild(h('span').setStyle({\n                        top: 0,\n                        left: j * data.transformData.账簿格式.小单元格宽度 + 'mm',\n                        position: 'absolute',\n                        display: 'inline-block',\n                        width: data.transformData.账簿格式.小单元格宽度 + 'mm',\n                        height: data.transformData.账簿格式.单元格高度 + 'mm',\n                        fontSize: '10px',\n                        zIndex: 4\n                    }).addText(c === '_' ? '' : c));\n                    j++;\n                }\n                return d;\n            }\n            const result = h('div').setStyle({\n                position: 'fixed',\n                top: data.transformData.账簿格式.正文区域上边距 + 'mm',\n                left: data.transformData.账簿格式.正文区域左边距 + 'mm',\n                zIndex: 3,\n                fontSize: '12px',\n                textAlign: 'center',\n                width: '100%',\n                height: '100%'\n            });\n            const m = data.transformData.items;\n            const normalItemStart = data.账簿页码 * data.transformData.账簿格式.每页条目数;\n            const normalItemEnd = Math.max(Math.min(normalItemStart + data.transformData.账簿格式.每页条目数, m.length), 0);\n            let lineCount = 0;\n            if (normalItemStart < normalItemEnd) {\n                const isFirst = normalItemStart === 0;\n                let i = normalItemStart;\n                //除第一页之外的第一条\n                if (!isFirst) {\n                    const top = lineCount * data.transformData.账簿格式.单元格高度 + 'mm';\n                    const prev = normalItemStart - 1;\n                    const ss = mountsFormat([\n                        0,\n                        0,\n                        m[prev].bill.blance,\n                        0,\n                        0,\n                        m[prev].bank.blance,\n                    ]);\n                    result.addChildren([\n                        h('div').addText('接上页余额').setStyle({\n                            position: 'absolute',\n                            top: top,\n                            left: 4 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                            zIndex: 4\n                        }),\n                        mountBox(ss[0], top, data.账簿格式计算.正文区域第n列左间距(0) + 'mm'),\n                        mountBox(ss[1], top, data.账簿格式计算.正文区域第n列左间距(1) + 'mm'),\n                        mountBox(ss[2], top, data.账簿格式计算.正文区域第n列左间距(2) + 'mm'),\n                        mountBox(ss[3], top, data.账簿格式计算.正文区域第n列左间距(3) + 'mm'),\n                        mountBox(ss[4], top, data.账簿格式计算.正文区域第n列左间距(4) + 'mm'),\n                        mountBox(ss[5], top, data.账簿格式计算.正文区域第n列左间距(5) + 'mm'),\n                    ]);\n                    lineCount++;\n                }\n                else {\n                    const top = lineCount * data.transformData.账簿格式.单元格高度 + 'mm';\n                    const ss = mountsFormat([\n                        0,\n                        0,\n                        data.transformData.prevMonth.billBlance,\n                        0,\n                        0,\n                        data.transformData.prevMonth.bankBlance\n                    ]);\n                    result.addChildren([\n                        h('div').addText(data.transformData.prevMonth.note || '接上期余额').setStyle({\n                            position: 'absolute',\n                            top: top,\n                            left: 4 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                            zIndex: 4\n                        }),\n                        mountBox(ss[0], top, data.账簿格式计算.正文区域第n列左间距(0) + 'mm'),\n                        mountBox(ss[1], top, data.账簿格式计算.正文区域第n列左间距(1) + 'mm'),\n                        mountBox(ss[2], top, data.账簿格式计算.正文区域第n列左间距(2) + 'mm'),\n                        mountBox(ss[3], top, data.账簿格式计算.正文区域第n列左间距(3) + 'mm'),\n                        mountBox(ss[4], top, data.账簿格式计算.正文区域第n列左间距(4) + 'mm'),\n                        mountBox(ss[5], top, data.账簿格式计算.正文区域第n列左间距(5) + 'mm'),\n                    ]);\n                    lineCount++;\n                }\n                //普通条目\n                while (i < normalItemEnd) {\n                    const item = m[i];\n                    const linePrinted = !((!item.note) && (item.bank.in === 0) && (item.bank.out === 0) && (item.bill.in === 0) && (item.bill.out === 0));\n                    if (linePrinted) {\n                        const top = lineCount * data.transformData.账簿格式.单元格高度 + 'mm';\n                        const ss = mountsFormat([\n                            item.bill.in,\n                            item.bill.out,\n                            item.bill.blance,\n                            item.bank.in,\n                            item.bank.out,\n                            item.bank.blance\n                        ]);\n                        result.addChildren([\n                            h('div').addText(item.time.getMonth() + 1 + '').setStyle({\n                                position: 'absolute',\n                                top: top,\n                                left: 0,\n                                zIndex: 4\n                            }),\n                            h('div').addText(item.time.getDate() + '').setStyle({\n                                position: 'absolute',\n                                top: top,\n                                left: data.transformData.账簿格式.中单元格宽度 + 'mm',\n                                zIndex: 4\n                            }),\n                            h('div').addText(i + 1 + '').setStyle({\n                                position: 'absolute',\n                                top: top,\n                                left: 3 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                                zIndex: 4\n                            }),\n                            h('div').addText(item.note).setStyle({\n                                position: 'absolute',\n                                top: top,\n                                left: 4 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                                zIndex: 4,\n                                width: data.transformData.账簿格式.大单元格宽度 + 'mm',\n                                //whiteSpace: 'pre-wrap',\n                                //wordWrap: 'break-word',\n                                //wordBreak: 'break-all',\n                                textAlign: 'left'\n                            }),\n                            mountBox(ss[0], top, data.账簿格式计算.正文区域第n列左间距(0) + 'mm'),\n                            mountBox(ss[1], top, data.账簿格式计算.正文区域第n列左间距(1) + 'mm'),\n                            mountBox(ss[2], top, data.账簿格式计算.正文区域第n列左间距(2) + 'mm'),\n                            mountBox(ss[3], top, data.账簿格式计算.正文区域第n列左间距(3) + 'mm'),\n                            mountBox(ss[4], top, data.账簿格式计算.正文区域第n列左间距(4) + 'mm'),\n                            mountBox(ss[5], top, data.账簿格式计算.正文区域第n列左间距(5) + 'mm'),\n                        ]);\n                        lineCount++;\n                    }\n                    i++;\n                }\n                //本页合计条目\n                {\n                    const top = lineCount * data.transformData.账簿格式.单元格高度 + 'mm';\n                    const last = normalItemEnd - 1;\n                    const ss = mountsFormat([\n                        m[last].bill.inAcc - ((m[normalItemStart - 1]?.bill.inAcc) ?? 0),\n                        m[last].bill.outAcc - ((m[normalItemStart - 1]?.bill.outAcc) ?? 0),\n                        m[last].bill.blance,\n                        m[last].bank.inAcc - ((m[normalItemStart - 1]?.bank.inAcc) ?? 0),\n                        m[last].bank.outAcc - ((m[normalItemStart - 1]?.bank.outAcc) ?? 0),\n                        m[last].bank.blance,\n                    ]);\n                    result.addChildren([\n                        h('div').addText('本页合计').setStyle({\n                            position: 'absolute',\n                            top: top,\n                            left: 4 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                            zIndex: 4\n                        }),\n                        mountBox(ss[0], top, data.账簿格式计算.正文区域第n列左间距(0) + 'mm'),\n                        mountBox(ss[1], top, data.账簿格式计算.正文区域第n列左间距(1) + 'mm'),\n                        mountBox(ss[2], top, data.账簿格式计算.正文区域第n列左间距(2) + 'mm'),\n                        mountBox(ss[3], top, data.账簿格式计算.正文区域第n列左间距(3) + 'mm'),\n                        mountBox(ss[4], top, data.账簿格式计算.正文区域第n列左间距(4) + 'mm'),\n                        mountBox(ss[5], top, data.账簿格式计算.正文区域第n列左间距(5) + 'mm'),\n                    ]);\n                    lineCount++;\n                }\n            }\n            //特殊条目\n            if (normalItemEnd === m.length) {\n                let i = 0;\n                if (data.账簿页码 >= data.pages) {\n                    i = data.pages * data.transformData.账簿格式.每页条目数 - m.length + (data.账簿页码 - data.pages) * data.transformData.账簿格式.每页行数;\n                }\n                while (lineCount < data.transformData.账簿格式.每页行数) {\n                    if (i >= data.transformData.specialExItems.length) {\n                        break;\n                    }\n                    const exItem = data.transformData.specialExItems[i];\n                    const top = lineCount * data.transformData.账簿格式.单元格高度 + 'mm';\n                    const ss = mountsFormat([\n                        0,\n                        0,\n                        exItem.billBlance,\n                        0,\n                        0,\n                        exItem.bankBlance\n                    ]);\n                    result.addChildren([\n                        h('div').addText(exItem.note).setStyle({\n                            position: 'absolute',\n                            top: top,\n                            left: 4 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                            zIndex: 4,\n                            width: data.transformData.账簿格式.大单元格宽度 + 'mm',\n                            whiteSpace: 'pre-wrap',\n                            wordWrap: 'break-word',\n                            wordBreak: 'break-all',\n                            textAlign: 'left'\n                        }),\n                        mountBox(ss[0], top, data.账簿格式计算.正文区域第n列左间距(0) + 'mm'),\n                        mountBox(ss[1], top, data.账簿格式计算.正文区域第n列左间距(1) + 'mm'),\n                        mountBox(ss[2], top, data.账簿格式计算.正文区域第n列左间距(2) + 'mm'),\n                        mountBox(ss[3], top, data.账簿格式计算.正文区域第n列左间距(3) + 'mm'),\n                        mountBox(ss[4], top, data.账簿格式计算.正文区域第n列左间距(4) + 'mm'),\n                        mountBox(ss[5], top, data.账簿格式计算.正文区域第n列左间距(5) + 'mm'),\n                    ]);\n                    lineCount++;\n                    i++;\n                }\n            }\n            //本期合计条目,全本最后\n            if (data.账簿页码 === data.账簿页数 - 1 && normalItemEnd > 0) {\n                const top = lineCount * data.transformData.账簿格式.单元格高度 + 'mm';\n                const last = normalItemEnd - 1;\n                const ss = mountsFormat([\n                    m[last].bill.inAcc,\n                    m[last].bill.outAcc,\n                    m[last].bill.blance + data.spBillBlance,\n                    m[last].bank.inAcc,\n                    m[last].bank.outAcc,\n                    m[last].bank.blance + data.spBankBlance\n                ]);\n                result.addChildren([\n                    h('div').addText(data.transformData.合计说明 || '本期合计').setStyle({\n                        position: 'absolute',\n                        top: top,\n                        left: 4 * data.transformData.账簿格式.中单元格宽度 + 'mm',\n                        zIndex: 4\n                    }),\n                    mountBox(ss[0], top, data.账簿格式计算.正文区域第n列左间距(0) + 'mm'),\n                    mountBox(ss[1], top, data.账簿格式计算.正文区域第n列左间距(1) + 'mm'),\n                    mountBox(ss[2], top, data.账簿格式计算.正文区域第n列左间距(2) + 'mm'),\n                    mountBox(ss[3], top, data.账簿格式计算.正文区域第n列左间距(3) + 'mm'),\n                    mountBox(ss[4], top, data.账簿格式计算.正文区域第n列左间距(4) + 'mm'),\n                    mountBox(ss[5], top, data.账簿格式计算.正文区域第n列左间距(5) + 'mm'),\n                ]);\n            }\n            return result;\n        }\n        function signtures(data) {\n            function s0(data) {\n                return h('pre').setStyle({\n                    position: 'fixed',\n                    top: '1cm',\n                    left: '2cm',\n                    zIndex: 2,\n                    fontSize: '1rem',\n                }).addText(watermarkFromSavename(data.transformData.saveName));\n            }\n            function s1(data) {\n                return h('div').setStyle({\n                    position: 'fixed',\n                    top: '2cm',\n                    left: '9cm',\n                    zIndex: 2,\n                    fontSize: '1rem',\n                }).addText(data.transformData.落款.银行);\n            }\n            function s2() {\n                return h('div').setStyle({\n                    position: 'fixed',\n                    top: '3.6cm',\n                    left: '10cm',\n                    zIndex: 2,\n                    fontSize: '1rem'\n                }).addText('收');\n            }\n            function s3() {\n                return h('div').setStyle({\n                    position: 'fixed',\n                    top: '3.6cm',\n                    left: '13cm',\n                    zIndex: 2,\n                    fontSize: '1rem'\n                }).addText('支');\n            }\n            function s4() {\n                return h('div').setStyle({\n                    position: 'fixed',\n                    top: '3.6cm',\n                    left: '18cm',\n                    zIndex: 2,\n                    fontSize: '1rem'\n                }).addText('收');\n            }\n            function s5() {\n                return h('div').setStyle({\n                    position: 'fixed',\n                    top: '3.6cm',\n                    left: '21cm',\n                    zIndex: 2,\n                    fontSize: '1rem'\n                }).addText('支');\n            }\n            function sp(data) {\n                return h('div').setStyle({\n                    position: 'fixed',\n                    top: '1.5cm',\n                    left: '24.2cm',\n                    zIndex: 2,\n                    fontSize: '1rem'\n                }).addText(data.账簿页码 + 1 + '');\n            }\n            return h('div').setStyle({\n                position: 'fixed',\n                top: '0',\n                left: '0',\n                width: data.transformData.账簿格式.全本宽度 + 'mm',\n                height: data.transformData.账簿格式.全本高度 + 'mm',\n                zIndex: 1\n            }).addChildren([\n                s0(data),\n                s1(data),\n                s2(),\n                s3(),\n                s4(),\n                s5(),\n                sp(data),\n            ]);\n        }\n    })(账簿 || (账簿 = {}));\n    let 报账表;\n    (function (报账表) {\n        function main(data) {\n            return h('div').setStyle({\n                position: 'fixed',\n                width: data.transformData.报账表格式.全本宽度 + 'mm',\n                height: data.transformData.报账表格式.全本高度 + 'mm',\n                zIndex: 0,\n            }).addChildren([\n                innerLineBill(data),\n                innerLineBank(data),\n                ...innerLineOthers0(data),\n                innerLineOthersRest(data),\n                innerLineTotal(data),\n            ]).setAttributes({ id: 'pr_1' })\n                .setStyle({ fontSize: data.transformData.报账表格式.fontSize });\n        }\n        报账表.main = main;\n        function fixedBox(text, top, left, fix = 2) {\n            if (typeof text === 'number') {\n                //0忽略\n                /*\n                if (!text) {\n                    text = ''\n                } else {\n                    text = text.toFixed(fix)\n                }*/\n                text = text.toFixed(fix);\n            }\n            return h('div').addText(text).setStyle({\n                position: 'fixed',\n                top: top + 'mm',\n                left: left + 'mm',\n                zIndex: 1\n            });\n        }\n        function innerLineBill(data) {\n            const m = data.transformData.items;\n            if (!m.length) {\n                return null;\n            }\n            const last = m.length - 1;\n            const top = data.transformData.报账表格式.现金上边距;\n            const lefts = data.transformData.报账表格式.左边距;\n            return h('div').addChildren([\n                fixedBox(data.transformData.prevMonth.billBlance, top, lefts.上期余额),\n                fixedBox(data.counts[0], top, lefts.张数0, 0),\n                fixedBox(m[last].bill.inAcc, top, lefts.金额0),\n                fixedBox(data.counts[1], top, lefts.张数1, 0),\n                fixedBox(m[last].bill.outAcc, top, lefts.金额1),\n                fixedBox(m[last].bill.blance, top, lefts.本期余额),\n            ]);\n        }\n        function innerLineBank(data) {\n            const m = data.transformData.items;\n            if (!m.length) {\n                return null;\n            }\n            const last = m.length - 1;\n            const top = data.transformData.报账表格式.银行项目上边距[0];\n            const lefts = data.transformData.报账表格式.左边距;\n            return h('div').addChildren([\n                fixedBox(data.transformData.报账表格式.银行项目, top, data.transformData.报账表格式.左边距.项目),\n                fixedBox(data.transformData.prevMonth.bankBlance, top, lefts.上期余额),\n                fixedBox(data.counts[2], top, lefts.张数0, 0),\n                fixedBox(m[last].bank.inAcc, top, lefts.金额0),\n                fixedBox(data.counts[3], top, lefts.张数1, 0),\n                fixedBox(m[last].bank.outAcc, top, lefts.金额1),\n                fixedBox(m[last].bank.blance, top, lefts.本期余额),\n            ]);\n        }\n        function innerLineOthers0(data) {\n            const m = data.transformData.specialExItems;\n            const lefts = data.transformData.报账表格式.左边距;\n            return m.slice(0, 2).map((exItem, i) => {\n                const top = data.transformData.报账表格式.银行项目上边距[i + 1];\n                return h('div').addChildren([\n                    fixedBox(exItem.note, top, data.transformData.报账表格式.左边距.项目),\n                    fixedBox(exItem.bankBlance, top, lefts.上期余额),\n                    fixedBox(exItem.bankBlance, top, lefts.本期余额)\n                ]);\n            });\n        }\n        function innerLineOthersRest(data) {\n            const m = data.transformData.specialExItems.slice(2);\n            if (!m.length) {\n                return null;\n            }\n            const lefts = data.transformData.报账表格式.左边距;\n            const top = data.transformData.报账表格式.银行项目上边距[3];\n            const st = m.reduce((acc, cur) => acc + cur.bankBlance, 0);\n            return h('div').addChildren([\n                fixedBox('其他', top, data.transformData.报账表格式.左边距.项目),\n                fixedBox(st, top, lefts.上期余额),\n                fixedBox(st, top, lefts.本期余额)\n            ]);\n        }\n        function innerLineTotal(data) {\n            const items = data.transformData.items;\n            const last = items.length - 1;\n            const prev = data.transformData.prevMonth;\n            const lastItem = items[last];\n            const top = data.transformData.报账表格式.合计上边距;\n            const lefts = data.transformData.报账表格式.左边距;\n            const totals = [\n                prev.billBlance + prev.bankBlance + data.spBankBlance,\n                data.counts[0] + data.counts[2],\n                lastItem ? lastItem.bill.inAcc + lastItem.bank.inAcc : 0,\n                data.counts[1] + data.counts[3],\n                lastItem ? lastItem.bill.outAcc + lastItem.bank.outAcc : 0,\n                (lastItem ? lastItem.bill.blance + lastItem.bank.blance : 0) + data.spBankBlance\n            ];\n            return h('div').addChildren([\n                fixedBox(totals[0], top, lefts.上期余额),\n                fixedBox(totals[1], top, lefts.张数0, 0),\n                fixedBox(totals[2], top, lefts.金额0),\n                fixedBox(totals[3], top, lefts.张数1, 0),\n                fixedBox(totals[4], top, lefts.金额1),\n                fixedBox(totals[5], top, lefts.本期余额),\n            ]);\n        }\n    })(报账表 || (报账表 = {}));\n    //未完成\n    let 按标签打印;\n    (function (按标签打印) {\n        function main(data) {\n            const res = h('div').setStyle({\n                position: 'fixed',\n                width: data.transformData.报账表格式.全本宽度 + 'mm',\n                height: data.transformData.报账表格式.全本高度 + 'mm',\n                zIndex: 0,\n            })\n                .setAttributes({ id: 'pr_2' })\n                .setStyle({ fontSize: data.transformData.报账表格式.fontSize });\n            const items = data.transformData.items.filter(item => (item.tag ?? '未定') === data.打印标签);\n            for (const item of items) {\n                const line = h('div');\n                res.addChild(line);\n            }\n            return res;\n        }\n        按标签打印.main = main;\n    })(按标签打印 || (按标签打印 = {}));\n    async function control(data) {\n        async function line0() {\n            return h('div').addChildren([\n                h('button').addText('打印账簿').on('click', async ({ promisedFlush, model }) => {\n                    if (!model.transformData.items.length) {\n                        model.transformData.items.push(new Item(model.baseDate));\n                    }\n                    model.sort0();\n                    const iframe = document.getElementById('iframe');\n                    const pr = document.getElementById('pr');\n                    if (iframe && iframe.contentDocument && pr) {\n                        iframe.contentDocument.head.innerHTML = `<style>@media print {\r\n\t\t\t\t\t\t\t\t@page {\r\n\t\t\t\t\t\t\t\t/*竖向 */\r\n\t\t\t\t\t\t\t\tsize: A4 portrait;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t/* 边距 上右下左 */\r\n\t\t\t\t\t\t\t\tmargin: -4mm 0 0 -4mm;\r\n\t\t\t\t\t\t\t\tresize: none;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t*{\r\n\t\t\t\t\t\t\t\tfont-family: SimHei;\r\n\t\t\t\t\t\t\t\tpadding:0;\r\n\t\t\t\t\t\t\t\tmargin:0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}</style>`;\n                        const r0 = /(?:(\\d+)(?:\\-(\\d+)?)?,?\\s*)+?/g;\n                        let tmp = [];\n                        (0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('输入要打印的页码', '模式/(?:(\\\\d+)(?:\\\\-(\\\\d+)?)?,?\\\\s*)+?/,如1-5,1,1-', `1-${model.账簿页数}`, ans => {\n                            tmp = [...ans.matchAll(r0)];\n                            return tmp.length > 0;\n                        });\n                        for (const mt of tmp) {\n                            const [start, tail] = [mt[1], mt[2] ?? mt[1]].map(x => +x).map(x => x - 1);\n                            for (let i = start, l = tail; i <= l; i++) {\n                                document.title = `对账3_账簿_${model.transformData.saveName}_${i + 1}_of_${data.账簿页数}`;\n                                model.账簿页码 = i;\n                                await promisedFlush();\n                                iframe.contentDocument.body.innerHTML = pr.outerHTML;\n                                iframe.contentWindow?.print();\n                            }\n                        }\n                    }\n                }).setStyle({ color: 'red', fontWeight: '1000' }),\n                h('button').addText('打印报账表').on('click', async ({ promisedFlush, model }) => {\n                    if (!model.transformData.items.length) {\n                        model.transformData.items.push(new Item(model.baseDate));\n                    }\n                    model.sort0();\n                    await promisedFlush();\n                    const iframe = document.getElementById('iframe_1');\n                    const pr = document.getElementById('pr_1');\n                    if (iframe && iframe.contentDocument && pr) {\n                        iframe.contentDocument.head.innerHTML = `<style>@media print {\r\n\t\t\t\t\t\t\t@page {\r\n\t\t\t\t\t\t\t/*竖向 */\r\n\t\t\t\t\t\t\tsize: A4 portrait;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t/* 边距 上右下左 */\r\n\t\t\t\t\t\t\tmargin: -4mm 0 0 -4mm;\r\n\t\t\t\t\t\t\tresize: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*{\r\n\t\t\t\t\t\t\tfont-family: SimHei;\r\n\t\t\t\t\t\t\tpadding:0;\r\n\t\t\t\t\t\t\tmargin:0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}</style>`;\n                        document.title = `对账3_报账单_${model.transformData.saveName}`;\n                        iframe.contentDocument.body.innerHTML = pr.outerHTML;\n                        iframe.contentWindow?.print();\n                    }\n                }).setStyle({ color: 'blue', fontWeight: '1000' }),\n                h('button').addText('按标签分类打印').on('click', async ({ promisedFlush, model }) => {\n                    if (!model.transformData.items.length) {\n                        model.transformData.items.push(new Item(model.baseDate));\n                    }\n                    model.sort0();\n                    const iframe = document.getElementById('iframe_2');\n                    const pr = document.getElementById('pr_2');\n                    if (iframe && iframe.contentDocument && pr) {\n                        iframe.contentDocument.head.innerHTML = `<style>@media print {\r\n\t\t\t\t\t\t\t@page {\r\n\t\t\t\t\t\t\t/*竖向 */\r\n\t\t\t\t\t\t\tsize: A4 portrait;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t/* 边距 上右下左 */\r\n\t\t\t\t\t\t\tmargin: -4mm 0 0 -4mm;\r\n\t\t\t\t\t\t\tresize: none;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*{\r\n\t\t\t\t\t\t\tfont-family: SimHei;\r\n\t\t\t\t\t\t\tpadding:0;\r\n\t\t\t\t\t\t\tmargin:0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}</style>`;\n                        const tags = new Set(model.transformData.items.map(x => x.tag ?? '未定'));\n                        for (const tag of tags) {\n                            model.打印标签 = tag;\n                            await promisedFlush();\n                            document.title = `对账3_按标签打印_${tag}_${model.transformData.saveName}`;\n                            iframe.contentDocument.body.innerHTML = pr.outerHTML;\n                            iframe.contentWindow?.print();\n                        }\n                    }\n                }).setStyle({ color: 'blue', fontWeight: '1000' }),\n                h('button').addText('添加条目').on('click', ({ model }) => {\n                    const n = +(0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('添加数量', '数字', '1', s => /^\\d+$/.test(s));\n                    for (let i = 0; i < n; i++) {\n                        model.transformData.items.push(new Item(model.baseDate));\n                    }\n                }),\n                h('button').addText('添加特殊条目').on('click', ({ model }) => {\n                    const n = +(0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('添加数量', '数字', '1', s => /^\\d+$/.test(s));\n                    for (let i = 0; i < n; i++) {\n                        model.transformData.specialExItems.push(new ExItem);\n                    }\n                }),\n                h('button').addText('页跳转').on('click', ({ model }) => {\n                    const n = +(0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.askWithTest)('页码', '数字', '1', s => /^\\d+$/.test(s));\n                    model.pageNo = n - 1;\n                }),\n                h('button').addText('刷新统计数据').on('click', ({ model }) => {\n                    model.flush();\n                }),\n                h('button').addText('按账簿排序').on('click', ({ model }) => {\n                    model.sort0();\n                }),\n                h('button').on('click', ({ model }) => {\n                    model.相似度检查();\n                })\n                    .setAttributes({ title: '该操作时间复杂度较高' })\n                    .addChildren([\n                    '相似度检查(阈值:',\n                    h('input')\n                        .setValue(Math.floor(data.相似度阈值 * 100))\n                        .on('change', ({ model, srcTarget }) => {\n                        model.相似度阈值 = +srcTarget.value / 100;\n                    })\n                        .setStyle({ width: '2rem' })\n                        .on('click', i => {\n                        i.stop = true;\n                    }),\n                    `%)`\n                ]),\n                h('button').addText('导入对账3json').on('click', () => {\n                    document.getElementById('file')?.click();\n                }),\n                h('button').addText('导出对账3json').on('click', ({ model }) => {\n                    void model.exportJson();\n                }),\n                h('input').setStyle({\n                    display: 'none'\n                }).setAttributes({\n                    type: 'file',\n                    accept: 'text/json',\n                    id: 'file'\n                }).on('change', ({ model, srcTarget }) => {\n                    if (!confirm('导入json后将覆盖现有数据,要继续吗?')) {\n                        return;\n                    }\n                    model.importJson(srcTarget.files?.[0]);\n                    srcTarget.value = '';\n                }),\n            ]).addClass('bar');\n        }\n        function line1() {\n            function filterPicker() {\n                return h('span').addChildren([\n                    '普通条目筛选命令',\n                    h('textarea').setValue(data.nrPickerCmd).on('change', ({ model, srcTarget }) => {\n                        model.nrPickerCmd = srcTarget.value;\n                    }).setAttributes({\n                        title: '命令为一个函数(item:Item,index:number) => boolean, Item类型请点击 类型 链接'\n                    }),\n                    h('a').addText('类型').setAttributes({ href: _filterArgType_txt__WEBPACK_IMPORTED_MODULE_4__[\"default\"], target: '__blank' }),\n                    h('button').addText('选中符合条目').on('click', ({ model }) => {\n                        try {\n                            const f = new Function(`return ${model.nrPickerCmd}`)();\n                            let index = 0;\n                            for (const item of model.transformData.items) {\n                                item.select = f(item, index);\n                                index++;\n                            }\n                        }\n                        catch (e) {\n                            alert('函数的生成或者执行发生错误');\n                            throw new Error;\n                        }\n                    }),\n                    h('button').addText('只保留选中条目').on('click', ({ model }) => {\n                        if (!confirm('将只保留选中的条目,要继续吗?')) {\n                            return;\n                        }\n                        model.transformData.items = model.transformData.items.filter(item => item.select);\n                        model.flush();\n                    }),\n                    h('b').addText(`${data.transformData.items.filter(x => x.select).length}条被选中`)\n                ]);\n            }\n            return h('div').addChildren([\n                filterPicker(),\n                h('span').addChildren([\n                    '基准月份',\n                    h('input').on('change', ({ model, srcTarget }) => {\n                        model.baseDate = new Date(srcTarget.value);\n                    }).setValue(showDate(data.baseDate))\n                ])\n            ]).addClass('bar');\n        }\n        function line2() {\n            return h('div').addChildren([\n                h('a').addText('第一页').setAttributes({ href: 'javascript:void 0' }).on('click', ({ model }) => {\n                    model.pageNo = 0;\n                }),\n                h('a').addText('上一页').setAttributes({ href: 'javascript:void 0' }).on('click', ({ model }) => {\n                    model.pageNo--;\n                }),\n                h('span').addChildren([\n                    `当前页码:`,\n                    h('input').setValue(`${data.pageNo + 1}`).on('change', ({ model, srcTarget }) => {\n                        model.pageNo = +srcTarget.value - 1;\n                    }).setStyle({\n                        width: data.pageNo.toString().length + 'rem',\n                        color: 'blue',\n                        fontSize: \"100%\"\n                    }),\n                    `/${data.pages}`\n                ]),\n                h('a').addText('下一页').setAttributes({ href: 'javascript:void 0' }).on('click', ({ model }) => {\n                    model.pageNo++;\n                }),\n                h('a').addText('最后一页').setAttributes({ href: 'javascript:void 0' }).on('click', ({ model }) => {\n                    model.pageNo = Infinity;\n                }),\n            ]).addClass('linkbar');\n        }\n        async function line4() {\n            return h('div').addChildren([\n                await printPageOffsetAdjust(data),\n                h('div').addChildren([\n                    h('button').addText('从\"记账json\"导入现金条目').on('click', async ({ model }) => {\n                        model.导入记账('bill');\n                    }),\n                    h('button').addText('从\"记账json\"导入银行条目').on('click', async ({ model }) => {\n                        model.导入记账('bank');\n                    }),\n                    h('button').addText('将现金条目导出为\"记账json\"').on('click', ({ model }) => {\n                        model.导出现金记账();\n                    }),\n                    h('button').addText('将银行条目导出为\"记账json\"').on('click', ({ model }) => {\n                        model.导出银行记账();\n                    }),\n                    h('button').addText('接续余额').on('click', ({ model }) => {\n                        if (!confirm(`要删除所有普通条目,将最终余额作为新页面的起始余额.要继续吗?`)) {\n                            return;\n                        }\n                        model.接续余额();\n                    }),\n                ]).addClass('bar').setStyle({\n                    display: location.hostname === `localhost` ? `block` : `none`\n                })\n            ]);\n        }\n        function line5() {\n            function filterPicker() {\n                return h('span').addChildren([\n                    '特殊条目筛选命令',\n                    h('textarea').setValue(data.spPickerCmd).on('change', ({ model, srcTarget }) => {\n                        model.spPickerCmd = srcTarget.value;\n                    }).setAttributes({\n                        title: '命令为一个函数(item:ExItem,index:number) => boolean, ExItem类型请点击 类型 链接'\n                    }),\n                    h('a').addText('类型').setAttributes({ href: _filterArgType_txt__WEBPACK_IMPORTED_MODULE_4__[\"default\"], target: '__blank' }),\n                    h('button').addText('仅保留符合条目').on('click', ({ model }) => {\n                        if (!confirm('将只保留符合的条目,要继续吗?')) {\n                            return;\n                        }\n                        try {\n                            const f = new Function(`return ${model.spPickerCmd}`)();\n                            model.transformData.specialExItems = model.transformData.specialExItems.filter(f);\n                        }\n                        catch (e) {\n                            alert('函数的生成或者执行发生错误');\n                            throw new Error;\n                        }\n                    }),\n                ]);\n            }\n            return h('div').addChildren([\n                filterPicker()\n            ]).addClass('bar');\n        }\n        return h('div').addChildren([\n            await line4(),\n            await line0(),\n            line1(),\n            line5(),\n            line2(),\n        ]);\n    }\n    function lastFlush(data) {\n        return h('h2').addText(data.lastFlushTime ? '统计数据刷新于:' + data.lastFlushTime.toLocaleString() : '统计数据未刷新');\n    }\n    function content(data) {\n        return h('table')\n            .addChildren(tableHeader(data))\n            .addChildren(tableContent(data))\n            .setAttributes({\n            border: '1'\n        }).setStyle({\n            borderCollapse: 'collapse'\n        });\n    }\n    function tableContent(data) {\n        const res = [];\n        const start = data.pageNo * data.transformData.账簿格式.每页条目数;\n        let end = Math.max(Math.min(start + data.transformData.账簿格式.每页条目数, data.transformData.items.length), 0);\n        for (let i = start, c = 0; i < end; i++, c++) {\n            const rowNo = i;\n            const tr = h('tr').addClass('contentTr');\n            const item = data.transformData.items[i];\n            const b = item.bill.in - item.bill.out + item.bank.in - item.bank.out;\n            if (b > 0) {\n                tr.setStyle({ background: 'rgba(8, 167, 21, 0.75)' });\n            }\n            else if (b < 0) {\n                tr.setStyle({ background: 'rgba(227, 228, 68, 0.75)' });\n            }\n            else if ([\n                item.bill.in,\n                item.bill.out,\n                item.bank.in,\n                item.bank.out\n            ].every(x => x === 0)) {\n                tr.setStyle({ background: 'rgba(192, 192, 192, 0.75)' });\n            }\n            else {\n                tr.setStyle({ background: 'rgba(128, 0, 128, 0.75)' });\n            }\n            tr.addChildren([\n                h('td').addText(rowNo.toString()),\n                h('td').addChild(h('div').addText(item.select ? '✔' : ' ').on('click', ({ flush }) => {\n                    item.select = !item.select;\n                    flush();\n                }).setStyle({ minWidth: '1rem', minHeight: '1rem', cursor: 'pointer', userSelect: 'none' })),\n                h('td').addChildren([\n                    h('select')\n                        .addChildren(_ItemTags.map(x => h('option').setValue(x).addText(x)))\n                        .setValue(item.tag ?? '未定')\n                        .on('change', ({ promisedFlush, srcTarget }) => {\n                        item.tag = srcTarget.value;\n                        void promisedFlush();\n                    })\n                ]),\n                h('td').addChild(h('input')\n                    .setValue(showDate(item.time))\n                    .on('change', ({ flush, srcTarget, model }) => {\n                    const r = /^\\d+$/;\n                    let v = srcTarget.value;\n                    if (r.test(v)) {\n                        switch (v.length) {\n                            case 8:\n                                v = [\n                                    v.slice(0, 4),\n                                    v.slice(4, 6),\n                                    v.slice(6, 8)\n                                ].join('-');\n                                break;\n                            case 4:\n                                v = [\n                                    model.baseDate.getFullYear(),\n                                    v.slice(0, 2),\n                                    v.slice(2, 4)\n                                ].join('-');\n                                break;\n                            case 2:\n                            case 1:\n                                v = [\n                                    model.baseDate.getFullYear(),\n                                    model.baseDate.getMonth() + 1,\n                                    v\n                                ].join('-');\n                                break;\n                        }\n                    }\n                    item.time = new Date(v);\n                    flush();\n                })),\n                h('td').addChild(h('input')\n                    .setValue(item.note)\n                    .on('change', ({ flush, srcTarget }) => {\n                    item.note = srcTarget.value.replace(/\\\\/g, '、');\n                    flush();\n                })\n                    .addClass('note')),\n                //现金\n                h('td').addChild(h('input').on('change', ({ flush, srcTarget }) => {\n                    item.bill.in = +srcTarget.value;\n                    flush();\n                })\n                    .setAttributes({ id: 'bill.in.' + c })\n                    .setValue(item.bill.in)\n                    .setStyle({\n                    background: item.bill.in > 0 ? 'orange' : null\n                })),\n                h('td').addChild(h('button').addText('↔').on('click', ({ flush }) => {\n                    if (!confirm(`交换第${i}条条目的现金收支数据,要继续吗?`)) {\n                        return;\n                    }\n                    [item.bill.in, item.bill.out] = [item.bill.out, item.bill.in];\n                    flush();\n                }).setAttributes({ tabIndex: '-1' })),\n                h('td').addChild(h('input').on('change', ({ flush, srcTarget }) => {\n                    item.bill.out = +srcTarget.value;\n                    flush();\n                })\n                    .setAttributes({\n                    id: 'bill.out.' + c,\n                })\n                    .setValue(item.bill.out)\n                    .setStyle({\n                    background: item.bill.out > 0 ? 'orange' : null\n                })),\n                h('td').addChild(h('div').addText(item.bill.blance.toFixed(2))),\n                //银行\n                h('td').addChild(h('input').on('change', ({ flush, srcTarget }) => {\n                    item.bank.in = +srcTarget.value;\n                    flush();\n                })\n                    .setAttributes({ id: 'bank.in.' + c })\n                    .setValue(item.bank.in)\n                    .setStyle({\n                    background: item.bank.in > 0 ? 'orange' : null\n                })),\n                h('td').addChild(h('button').addText('↔').on('click', ({ flush }) => {\n                    if (!confirm(`交换第${i}条条目的银行收支数据,要继续吗?`)) {\n                        return;\n                    }\n                    [item.bank.in, item.bank.out] = [item.bank.out, item.bank.in];\n                    flush();\n                }).setAttributes({ tabIndex: '-1' })),\n                h('td').addChild(h('input').on('change', ({ flush, srcTarget }) => {\n                    item.bank.out = +srcTarget.value;\n                    flush();\n                })\n                    .setAttributes({ id: 'bank.out.' + c, })\n                    .setValue(item.bank.out)\n                    .setStyle({\n                    background: item.bank.out > 0 ? 'orange' : null\n                })),\n                h('td').addChild(h('div').addText(item.bank.blance.toFixed(2))),\n            ]);\n            res.push(tr);\n        }\n        end--;\n        //本页最后一行\n        if (end >= 0) {\n            const tr = h('tr').setStyle({ fontWeight: '1000' });\n            //现金\n            const billInPage = data.transformData.items[end].bill.inAcc - ((data.transformData.items[start - 1]?.bill.inAcc) ?? 0);\n            const billOutPage = data.transformData.items[end].bill.outAcc - ((data.transformData.items[start - 1]?.bill.outAcc) ?? 0);\n            //银行\n            const bankInPage = data.transformData.items[end].bank.inAcc - ((data.transformData.items[start - 1]?.bank.inAcc) ?? 0);\n            const bankOutPage = data.transformData.items[end].bank.outAcc - ((data.transformData.items[start - 1]?.bank.outAcc) ?? 0);\n            tr.addChildren([\n                h('td').addText('本页合计').setAttributes({ colSpan: 5 }),\n                h('td').addText(billInPage.toFixed(2)).setAttributes({ colSpan: 2 }),\n                h('td').addText(billOutPage.toFixed(2)),\n                h('td').addText(data.transformData.items[end].bill.blance.toFixed(2)),\n                h('td').addText(bankInPage.toFixed(2)).setAttributes({ colSpan: 2 }),\n                h('td').addText(bankOutPage.toFixed(2)),\n                h('td').addText(data.transformData.items[end].bank.blance.toFixed(2)),\n            ]);\n            res.push(tr);\n        }\n        {\n            //特殊条目\n            let i = 0;\n            for (const exItem of data.transformData.specialExItems) {\n                const tr = h('tr').addClass('contentTr');\n                tr.addChildren([\n                    h('td').addText(i + '').setStyle({ userSelect: 'none', cursor: 'pointer' }).setAttributes({\n                        colSpan: '4'\n                    }),\n                    h('td').addChild((0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.stringObjectInput)(exItem, 'note')),\n                    h('td').addText('-').setStyle({ userSelect: 'none', cursor: 'pointer' }).setAttributes({\n                        colSpan: '3'\n                    }),\n                    h('td').addChild((0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.numberObjectInput)(exItem, 'billBlance')),\n                    h('td').addText('-').setStyle({ userSelect: 'none', cursor: 'pointer' }).setAttributes({\n                        colSpan: '3'\n                    }),\n                    h('td').addChild((0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.numberObjectInput)(exItem, 'bankBlance')),\n                ]);\n                tr.setStyle({ background: 'rgb(250, 89, 46, 0.75)' });\n                res.push(tr);\n                i++;\n            }\n        }\n        //全本最后\n        if ((data.pageNo === data.pages - 1) && (end >= 0)) {\n            //全本最后一行\n            const tr = h('tr').setStyle({ fontWeight: '1000', color: 'orange' });\n            //现金\n            const billInTotal = data.transformData.items[end].bill.inAcc;\n            const billOutTotal = data.transformData.items[end].bill.outAcc;\n            const billBalanceTotal = data.transformData.items[end].bill.blance;\n            //银行\n            const bankInTotal = data.transformData.items[end].bank.inAcc;\n            const bankOutTotal = data.transformData.items[end].bank.outAcc;\n            const bankBalanceTotal = data.transformData.items[end].bank.blance;\n            //特殊条目\n            tr.addChildren([\n                h('td').addText('汇总').setAttributes({ colSpan: 5 }),\n                h('td').addText(billInTotal.toFixed(2)).setAttributes({ colSpan: 2 }),\n                h('td').addText(billOutTotal.toFixed(2)),\n                h('td').addText((billBalanceTotal + data.spBillBlance).toFixed(2)),\n                h('td').addText(bankInTotal.toFixed(2)).setAttributes({ colSpan: 2 }),\n                h('td').addText(bankOutTotal.toFixed(2)),\n                h('td').addText((bankBalanceTotal + data.spBankBlance).toFixed(2)),\n            ]);\n            res.push(tr);\n        }\n        return res;\n    }\n    function tableHeader(data) {\n        return [\n            h('tr').addChildren([\n                h('th').addText('序号').setAttributes({ rowSpan: 3 }),\n                h('th').addText('选择').setAttributes({ rowSpan: 3 }),\n                h('th').addText('标签').setAttributes({ rowSpan: 3 }),\n                h('th').addText('时间').setAttributes({ rowSpan: 3, title: '小技巧:可以设定条目的时分秒,以微调在同一天内的排序' }),\n                h('th').addText('摘要').setAttributes({ rowSpan: 3 }),\n                h('th').addChildren([\n                    '初始说明',\n                    (0,_ubf_cmt_index__WEBPACK_IMPORTED_MODULE_1__.stringObjectInput)(data.transformData.prevMonth, 'note')\n                ]).setAttributes({\n                    colSpan: 8\n                }).setStyle({ background: 'pink' })\n            ]),\n            h('tr').addChildren([\n                h('th').addChildren([\n                    h('div').addText('现金').addChildren([\n                        h('div').addChildren([\n                            '初始余额',\n                            h('input').setValue(data.transformData.prevMonth.billBlance).on('change', ({ model, srcTarget }) => { model.transformData.prevMonth.billBlance = +srcTarget.value; })\n                        ])\n                    ]),\n                ])\n                    .setAttributes({ colSpan: 4 })\n                    .setStyle({\n                    background: 'rgb(253,230,224)'\n                }),\n                h('th').addChildren([\n                    h('div').addText('银行').addChildren([\n                        h('div').addChildren([\n                            '初始余额',\n                            h('input').setValue(data.transformData.prevMonth.bankBlance).on('change', ({ model, srcTarget }) => { model.transformData.prevMonth.bankBlance = +srcTarget.value; })\n                        ]),\n                    ]),\n                ])\n                    .setAttributes({ colSpan: 4 })\n                    .setStyle({\n                    background: 'rgb(233,235,254)'\n                }),\n            ]),\n            h('tr').addChildren([\n                h('th').addText(`收入(${data.counts[0]}条)`).setStyle({\n                    background: 'rgb(253,230,224)'\n                }),\n                h('th').addChildren([\n                    h('button').addText('↔').on('click', ({ model }) => {\n                        if (!confirm(`交换本页现金收支数据,要继续吗?`)) {\n                            return;\n                        }\n                        const start = data.pageNo * data.transformData.账簿格式.每页条目数;\n                        const end = start + data.transformData.账簿格式.每页条目数 - 1;\n                        for (let i = start; i <= end; i++) {\n                            const item = model.transformData.items[i];\n                            [item.bill.in, item.bill.out] = [item.bill.out, item.bill.in];\n                        }\n                    }).setAttributes({ tabIndex: '-1' })\n                ]).setStyle({\n                    background: 'rgb(253,230,224)'\n                }),\n                h('th').addText(`支出(${data.counts[1]}条)`).setStyle({\n                    background: 'rgb(253,230,224)'\n                }),\n                h('th').addText(`剩余`).setStyle({\n                    background: 'rgb(253,230,224)'\n                }),\n                h('th').addText(`收入(${data.counts[2]}条)`).setStyle({\n                    background: 'rgb(233,235,254)'\n                }),\n                h('th').addChildren([\n                    h('button').addText('↔').on('click', ({ model }) => {\n                        if (!confirm(`交换本页银行收支数据,要继续吗?`)) {\n                            return;\n                        }\n                        const start = data.pageNo * data.transformData.账簿格式.每页条目数;\n                        const end = start + data.transformData.账簿格式.每页条目数 - 1;\n                        for (let i = start; i <= end; i++) {\n                            const item = model.transformData.items[i];\n                            [item.bank.in, item.bank.out] = [item.bank.out, item.bank.in];\n                        }\n                    }).setAttributes({ tabIndex: '-1' })\n                ]).setStyle({\n                    background: 'rgb(233,235,254)'\n                }),\n                h('th').addText(`支出(${data.counts[3]}条)`).setStyle({\n                    background: 'rgb(233,235,254)'\n                }),\n                h('th').addText('剩余').setStyle({\n                    background: 'rgb(233,235,254)'\n                }),\n            ])\n        ];\n    }\n    async function printPageOffsetAdjust(data) {\n        const offsetObj = await data.printPageOffset;\n        return h('div').addChildren([\n            h('span').addChildren([\n                `打印页面上边距(mm)`,\n                h('input').setValue(offsetObj.top).on('change', async ({ promisedFlush, srcTarget }) => {\n                    offsetObj.top = +srcTarget.value;\n                    await promisedFlush();\n                }),\n                `打印页面左边距(mm)`,\n                h('input').setValue(offsetObj.left).on('change', async ({ promisedFlush, srcTarget }) => {\n                    offsetObj.left = +srcTarget.value;\n                    await promisedFlush();\n                }),\n                h('button').addText('保存').on('click', async ({ model }) => {\n                    const o = await model.printPageOffset;\n                    await model.ppStore.setItem('d', o);\n                    alert('保存完成');\n                }),\n                h('button').addText('恢复默认').on('click', async ({ model }) => {\n                    model.printPageOffset = Promise.resolve(new Offset);\n                    const o = await model.printPageOffset;\n                    await model.ppStore.setItem('d', o);\n                    alert('保存完成');\n                })\n            ]),\n        ]).setStyle({ border: '3px solid black' });\n    }\n})(ui || (ui = {}));\nconst dt = new Data;\nconst wt = new _ubf_index__WEBPACK_IMPORTED_MODULE_0__.Watcher({\n    target: document.getElementById('app'),\n    async root(data) {\n        return ui.app(data);\n    },\n    data: dt,\n    listened: ['dblclick']\n});\n//# sourceMappingURL=index.js.map\n\n//# sourceURL=webpack:///../scripts/subs/%E5%AF%B9%E8%B4%A63/index.js?");

/***/ }),

/***/ "./node_modules/_css-loader@7.1.2@css-loader/dist/cjs.js!../scripts/subs/对账3/index.css":
/*!*********************************************************************************************!*\
  !*** ./node_modules/_css-loader@7.1.2@css-loader/dist/cjs.js!../scripts/subs/对账3/index.css ***!
  \*********************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../webpack/node_modules/_css-loader@7.1.2@css-loader/dist/runtime/noSourceMaps.js */ \"./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/noSourceMaps.js\");\n/* harmony import */ var _webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../webpack/node_modules/_css-loader@7.1.2@css-loader/dist/runtime/api.js */ \"./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/api.js\");\n/* harmony import */ var _webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n// Imports\n\n\nvar ___CSS_LOADER_EXPORT___ = _webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_webpack_node_modules_css_loader_7_1_2_css_loader_dist_runtime_noSourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.linkbar>* {\r\n    color: blue;\r\n    margin: 0 3em;\r\n    display: inline-block;\r\n}\r\n\r\n.bar {\r\n    border: 3px solid black;\r\n    font-size: 1rem;\r\n}\r\n\r\n.contentTr:focus-within, .contentTr:hover {\r\n    animation-duration: 1s;\r\n    animation-name: colorChange;\r\n    animation-iteration-count: infinite;\r\n    animation-timing-function: linear;\r\n}\r\n\r\ninput:focus, textarea:focus {\r\n    font-weight: 1000;\r\n    font-size: 100%;\r\n}\r\n\r\n@keyframes colorChange {\r\n    from {\r\n        border: 0.5rem solid greenyellow;\r\n    }\r\n\r\n    20% {\r\n        border: 0.5rem solid black;\r\n    }\r\n\r\n    40% {\r\n        border: 0.5rem solid blue;\r\n    }\r\n\r\n    60% {\r\n        border: 0.5rem solid pink;\r\n    }\r\n\r\n    80% {\r\n        border: 0.5rem solid darkkhaki;\r\n    }\r\n\r\n    to {\r\n        border: 0.5rem solid red;\r\n    }\r\n\r\n\r\n}\r\n\r\n* {\r\n    padding: 0;\r\n    margin: 0;\r\n}\r\n\r\n@media print {\r\n    @page {\r\n        /*竖向 */\r\n        size: A4 portrait;\r\n\r\n        /* 边距 上右下左 */\r\n        margin: -4mm 0 0 -4mm;\r\n        resize: none;\r\n    }\r\n\r\n    * {\r\n        font-family: SimHei;\r\n        padding: 0;\r\n        margin: 0;\r\n    }\r\n}\r\n\r\n/*\r\ninput {\r\n    width: 6rem;\r\n}\r\n\r\ninput.note {\r\n    width: 10rem;\r\n}*/\r\n\r\ntable {\r\n    overflow: hidden;\r\n}\r\n\r\ntd, th {\r\n    position: relative;\r\n}`, \"\"]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n\n\n//# sourceURL=webpack:///../scripts/subs/%E5%AF%B9%E8%B4%A63/index.css?./node_modules/_css-loader@7.1.2@css-loader/dist/cjs.js");

/***/ }),

/***/ "./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/api.js":
/*!***********************************************************************!*\
  !*** ./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/api.js ***!
  \***********************************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};\n\n//# sourceURL=webpack:///./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/api.js?");

/***/ }),

/***/ "./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/noSourceMaps.js":
/*!********************************************************************************!*\
  !*** ./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/noSourceMaps.js ***!
  \********************************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (i) {\n  return i[1];\n};\n\n//# sourceURL=webpack:///./node_modules/_css-loader@7.1.2@css-loader/dist/runtime/noSourceMaps.js?");

/***/ }),

/***/ "./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \************************************************************************************************/
/***/ ((module) => {

eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n//# sourceURL=webpack:///./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/injectStylesIntoStyleTag.js?");

/***/ }),

/***/ "./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertBySelector.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertBySelector.js ***!
  \****************************************************************************************/
/***/ ((module) => {

eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;\n\n//# sourceURL=webpack:///./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertBySelector.js?");

/***/ }),

/***/ "./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertStyleElement.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertStyleElement.js ***!
  \******************************************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;\n\n//# sourceURL=webpack:///./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/insertStyleElement.js?");

/***/ }),

/***/ "./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!******************************************************************************************************!*\
  !*** ./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \******************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;\n\n//# sourceURL=webpack:///./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/setAttributesWithoutAttributes.js?");

/***/ }),

/***/ "./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleDomAPI.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleDomAPI.js ***!
  \***********************************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;\n\n//# sourceURL=webpack:///./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleDomAPI.js?");

/***/ }),

/***/ "./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleTagTransform.js":
/*!*****************************************************************************************!*\
  !*** ./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleTagTransform.js ***!
  \*****************************************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;\n\n//# sourceURL=webpack:///./node_modules/_style-loader@4.0.0@style-loader/dist/runtime/styleTagTransform.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/^blob:/, "").replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl + "../";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("../scripts/subs/对账3/index.js");
/******/ 	
/******/ })()
;